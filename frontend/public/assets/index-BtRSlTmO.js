var Io=e=>{throw TypeError(e)};var In=(e,t,r)=>t.has(e)||Io("Cannot "+r);var d=(e,t,r)=>(In(e,t,"read from private field"),r?r.call(e):t.get(e)),$=(e,t,r)=>t.has(e)?Io("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),U=(e,t,r,o)=>(In(e,t,"write to private field"),o?o.call(e,r):t.set(e,r),r),ee=(e,t,r)=>(In(e,t,"access private method"),r);var Yr=(e,t,r,o)=>({set _(s){U(e,t,s,r)},get _(){return d(e,t,o)}});import{r as R,d as Ii,u as fo,e as vr,b as ae,N as Fi,f as Oi,L as Fo,B as Bi,h as Oo,i as nr}from"./vendor-DzgjyWPM.js";import{j as Ui,c as zi,A as Wi,T as Rr,I as Ve,M as qi,a as A,B as P,D as Hi,L as Qi,b as vn,N as $i,d as he,e as Nt,f as jn,g as Z,h as mt,i as Gi,k as nt,S as _s,l as Qe,m as Yi,n as Be,o as yn,p as Ur,q as zr,r as Ki,C as ft,P as Is,s as Xi,F as Fs,t as Os,u as po,H as Ji,v as Zi,w as ho,x as er,y as ea,z as Bs,E as sr,G as fe,J as Ye,K as Ke,O as Fn,Q as En,R as bo,U as ta,V as Kt,W as Dn,X as Us,Y as xe,Z as ir,_ as go,$ as zs,a0 as ra,a1 as Ws,a2 as qs,a3 as na,a4 as Hs,a5 as oa,a6 as Qs,a7 as mn,a8 as Lr,a9 as nn,aa as on,ab as sn,ac as an,ad as $s,ae as Bt,af as sa,ag as Bo,ah as Uo,ai as zo,aj as ia,ak as aa,al as la,am as da,an as ca,ao as ua,ap as ma,aq as fa,ar as Wo,as as pa,at as ha,au as Xe,av as Je,aw as Ze,ax as ba,ay as ga,az as Na,aA as xa,aB as va,aC as ja,aD as qo,aE as ya,aF as Ea,aG as Da,aH as Va,aI as Ta,aJ as Pa,aK as Sa,aL as Ca,aM as Ma,aN as wa,aO as Aa,aP as ka,aQ as Ra,aR as La,aS as Ho,aT as _a}from"./ui-DOlI3smi.js";import{a as Ia,c as jr,b as No,d as Fa,o as Oa,s as Qo}from"./utils-BfKMf_ju.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Gs={exports:{}},$n={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=R,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),m=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),D=Symbol.iterator,g="@@iterator";function N(l){if(l===null||typeof l!="object")return null;var S=D&&l[D]||l[g];return typeof S=="function"?S:null}var L=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function y(l){{for(var S=arguments.length,B=new Array(S>1?S-1:0),K=1;K<S;K++)B[K-1]=arguments[K];q("error",l,B)}}function q(l,S,B){{var K=L.ReactDebugCurrentFrame,de=K.getStackAddendum();de!==""&&(S+="%s",B=B.concat([de]));var pe=B.map(function(le){return String(le)});pe.unshift("Warning: "+S),Function.prototype.apply.call(console[l],console,pe)}}var Q=!1,z=!1,T=!1,re=!1,M=!1,W;W=Symbol.for("react.module.reference");function G(l){return!!(typeof l=="string"||typeof l=="function"||l===o||l===i||M||l===s||l===E||l===b||re||l===C||Q||z||T||typeof l=="object"&&l!==null&&(l.$$typeof===x||l.$$typeof===p||l.$$typeof===a||l.$$typeof===m||l.$$typeof===f||l.$$typeof===W||l.getModuleId!==void 0))}function u(l,S,B){var K=l.displayName;if(K)return K;var de=S.displayName||S.name||"";return de!==""?B+"("+de+")":B}function j(l){return l.displayName||"Context"}function V(l){if(l==null)return null;if(typeof l.tag=="number"&&y("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case o:return"Fragment";case r:return"Portal";case i:return"Profiler";case s:return"StrictMode";case E:return"Suspense";case b:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case m:var S=l;return j(S)+".Consumer";case a:var B=l;return j(B._context)+".Provider";case f:return u(l,l.render,"ForwardRef");case p:var K=l.displayName||null;return K!==null?K:V(l.type)||"Memo";case x:{var de=l,pe=de._payload,le=de._init;try{return V(le(pe))}catch{return null}}}return null}var F=Object.assign,Y=0,X,J,ne,w,te,be,Ue;function Se(){}Se.__reactDisabledLog=!0;function Tn(){{if(Y===0){X=console.log,J=console.info,ne=console.warn,w=console.error,te=console.group,be=console.groupCollapsed,Ue=console.groupEnd;var l={configurable:!0,enumerable:!0,value:Se,writable:!0};Object.defineProperties(console,{info:l,log:l,warn:l,error:l,group:l,groupCollapsed:l,groupEnd:l})}Y++}}function qr(){{if(Y--,Y===0){var l={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:F({},l,{value:X}),info:F({},l,{value:J}),warn:F({},l,{value:ne}),error:F({},l,{value:w}),group:F({},l,{value:te}),groupCollapsed:F({},l,{value:be}),groupEnd:F({},l,{value:Ue})})}Y<0&&y("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Vr=L.ReactCurrentDispatcher,At;function kt(l,S,B){{if(At===void 0)try{throw Error()}catch(de){var K=de.stack.trim().match(/\n( *(at )?)/);At=K&&K[1]||""}return`
`+At+l}}var Rt=!1,bt;{var Pn=typeof WeakMap=="function"?WeakMap:Map;bt=new Pn}function Tr(l,S){if(!l||Rt)return"";{var B=bt.get(l);if(B!==void 0)return B}var K;Rt=!0;var de=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var pe;pe=Vr.current,Vr.current=null,Tn();try{if(S){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(_e){K=_e}Reflect.construct(l,[],le)}else{try{le.call()}catch(_e){K=_e}l.call(le.prototype)}}else{try{throw Error()}catch(_e){K=_e}l()}}catch(_e){if(_e&&K&&typeof _e.stack=="string"){for(var oe=_e.stack.split(`
`),we=K.stack.split(`
`),Ne=oe.length-1,ye=we.length-1;Ne>=1&&ye>=0&&oe[Ne]!==we[ye];)ye--;for(;Ne>=1&&ye>=0;Ne--,ye--)if(oe[Ne]!==we[ye]){if(Ne!==1||ye!==1)do if(Ne--,ye--,ye<0||oe[Ne]!==we[ye]){var qe=`
`+oe[Ne].replace(" at new "," at ");return l.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",l.displayName)),typeof l=="function"&&bt.set(l,qe),qe}while(Ne>=1&&ye>=0);break}}}finally{Rt=!1,Vr.current=pe,qr(),Error.prepareStackTrace=de}var rr=l?l.displayName||l.name:"",Ot=rr?kt(rr):"";return typeof l=="function"&&bt.set(l,Ot),Ot}function Sn(l,S,B){return Tr(l,!1)}function Hr(l){var S=l.prototype;return!!(S&&S.isReactComponent)}function Lt(l,S,B){if(l==null)return"";if(typeof l=="function")return Tr(l,Hr(l));if(typeof l=="string")return kt(l);switch(l){case E:return kt("Suspense");case b:return kt("SuspenseList")}if(typeof l=="object")switch(l.$$typeof){case f:return Sn(l.render);case p:return Lt(l.type,S,B);case x:{var K=l,de=K._payload,pe=K._init;try{return Lt(pe(de),S,B)}catch{}}}return""}var _t=Object.prototype.hasOwnProperty,Qr={},Cn=L.ReactDebugCurrentFrame;function It(l){if(l){var S=l._owner,B=Lt(l.type,l._source,S?S.type:null);Cn.setExtraStackFrame(B)}else Cn.setExtraStackFrame(null)}function c(l,S,B,K,de){{var pe=Function.call.bind(_t);for(var le in l)if(pe(l,le)){var oe=void 0;try{if(typeof l[le]!="function"){var we=Error((K||"React class")+": "+B+" type `"+le+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof l[le]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw we.name="Invariant Violation",we}oe=l[le](S,le,K,B,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ne){oe=Ne}oe&&!(oe instanceof Error)&&(It(de),y("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",K||"React class",B,le,typeof oe),It(null)),oe instanceof Error&&!(oe.message in Qr)&&(Qr[oe.message]=!0,It(de),y("Failed %s type: %s",B,oe.message),It(null))}}}var h=Array.isArray;function v(l){return h(l)}function O(l){{var S=typeof Symbol=="function"&&Symbol.toStringTag,B=S&&l[Symbol.toStringTag]||l.constructor.name||"Object";return B}}function _(l){try{return k(l),!1}catch{return!0}}function k(l){return""+l}function H(l){if(_(l))return y("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",O(l)),k(l)}var se=L.ReactCurrentOwner,me={key:!0,ref:!0,__self:!0,__source:!0},Me,Ft,We;We={};function Mn(l){if(_t.call(l,"ref")){var S=Object.getOwnPropertyDescriptor(l,"ref").get;if(S&&S.isReactWarning)return!1}return l.ref!==void 0}function Pr(l){if(_t.call(l,"key")){var S=Object.getOwnPropertyDescriptor(l,"key").get;if(S&&S.isReactWarning)return!1}return l.key!==void 0}function Sr(l,S){if(typeof l.ref=="string"&&se.current&&S&&se.current.stateNode!==S){var B=V(se.current.type);We[B]||(y('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',V(se.current.type),l.ref),We[B]=!0)}}function wn(l,S){{var B=function(){Me||(Me=!0,y("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",S))};B.isReactWarning=!0,Object.defineProperty(l,"key",{get:B,configurable:!0})}}function $r(l,S){{var B=function(){Ft||(Ft=!0,y("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",S))};B.isReactWarning=!0,Object.defineProperty(l,"ref",{get:B,configurable:!0})}}var An=function(l,S,B,K,de,pe,le){var oe={$$typeof:t,type:l,key:S,ref:B,props:le,_owner:pe};return oe._store={},Object.defineProperty(oe._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(oe,"_self",{configurable:!1,enumerable:!1,writable:!1,value:K}),Object.defineProperty(oe,"_source",{configurable:!1,enumerable:!1,writable:!1,value:de}),Object.freeze&&(Object.freeze(oe.props),Object.freeze(oe)),oe};function Gr(l,S,B,K,de){{var pe,le={},oe=null,we=null;B!==void 0&&(H(B),oe=""+B),Pr(S)&&(H(S.key),oe=""+S.key),Mn(S)&&(we=S.ref,Sr(S,de));for(pe in S)_t.call(S,pe)&&!me.hasOwnProperty(pe)&&(le[pe]=S[pe]);if(l&&l.defaultProps){var Ne=l.defaultProps;for(pe in Ne)le[pe]===void 0&&(le[pe]=Ne[pe])}if(oe||we){var ye=typeof l=="function"?l.displayName||l.name||"Unknown":l;oe&&wn(le,ye),we&&$r(le,ye)}return An(l,oe,we,de,K,se.current,le)}}var kn=L.ReactCurrentOwner,wo=L.ReactDebugCurrentFrame;function tr(l){if(l){var S=l._owner,B=Lt(l.type,l._source,S?S.type:null);wo.setExtraStackFrame(B)}else wo.setExtraStackFrame(null)}var Rn;Rn=!1;function Ln(l){return typeof l=="object"&&l!==null&&l.$$typeof===t}function Ao(){{if(kn.current){var l=V(kn.current.type);if(l)return`

Check the render method of \``+l+"`."}return""}}function Ci(l){{if(l!==void 0){var S=l.fileName.replace(/^.*[\\\/]/,""),B=l.lineNumber;return`

Check your code at `+S+":"+B+"."}return""}}var ko={};function Mi(l){{var S=Ao();if(!S){var B=typeof l=="string"?l:l.displayName||l.name;B&&(S=`

Check the top-level render call using <`+B+">.")}return S}}function Ro(l,S){{if(!l._store||l._store.validated||l.key!=null)return;l._store.validated=!0;var B=Mi(S);if(ko[B])return;ko[B]=!0;var K="";l&&l._owner&&l._owner!==kn.current&&(K=" It was passed a child from "+V(l._owner.type)+"."),tr(l),y('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',B,K),tr(null)}}function Lo(l,S){{if(typeof l!="object")return;if(v(l))for(var B=0;B<l.length;B++){var K=l[B];Ln(K)&&Ro(K,S)}else if(Ln(l))l._store&&(l._store.validated=!0);else if(l){var de=N(l);if(typeof de=="function"&&de!==l.entries)for(var pe=de.call(l),le;!(le=pe.next()).done;)Ln(le.value)&&Ro(le.value,S)}}}function wi(l){{var S=l.type;if(S==null||typeof S=="string")return;var B;if(typeof S=="function")B=S.propTypes;else if(typeof S=="object"&&(S.$$typeof===f||S.$$typeof===p))B=S.propTypes;else return;if(B){var K=V(S);c(B,l.props,"prop",K,l)}else if(S.PropTypes!==void 0&&!Rn){Rn=!0;var de=V(S);y("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",de||"Unknown")}typeof S.getDefaultProps=="function"&&!S.getDefaultProps.isReactClassApproved&&y("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ai(l){{for(var S=Object.keys(l.props),B=0;B<S.length;B++){var K=S[B];if(K!=="children"&&K!=="key"){tr(l),y("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",K),tr(null);break}}l.ref!==null&&(tr(l),y("Invalid attribute `ref` supplied to `React.Fragment`."),tr(null))}}var _o={};function ki(l,S,B,K,de,pe){{var le=G(l);if(!le){var oe="";(l===void 0||typeof l=="object"&&l!==null&&Object.keys(l).length===0)&&(oe+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var we=Ci(de);we?oe+=we:oe+=Ao();var Ne;l===null?Ne="null":v(l)?Ne="array":l!==void 0&&l.$$typeof===t?(Ne="<"+(V(l.type)||"Unknown")+" />",oe=" Did you accidentally export a JSX literal instead of a component?"):Ne=typeof l,y("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Ne,oe)}var ye=Gr(l,S,B,de,pe);if(ye==null)return ye;if(le){var qe=S.children;if(qe!==void 0)if(K)if(v(qe)){for(var rr=0;rr<qe.length;rr++)Lo(qe[rr],l);Object.freeze&&Object.freeze(qe)}else y("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Lo(qe,l)}if(_t.call(S,"key")){var Ot=V(l),_e=Object.keys(S).filter(function(_i){return _i!=="key"}),_n=_e.length>0?"{key: someKey, "+_e.join(": ..., ")+": ...}":"{key: someKey}";if(!_o[Ot+_n]){var Li=_e.length>0?"{"+_e.join(": ..., ")+": ...}":"{}";y(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,_n,Ot,Li,Ot),_o[Ot+_n]=!0}}return l===o?Ai(ye):wi(ye),ye}}var Ri=ki;$n.Fragment=o,$n.jsxDEV=Ri})();Gs.exports=$n;var n=Gs.exports,Gn={},On=Ii;{var Kr=On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Gn.createRoot=function(e,t){Kr.usingClientEntryPoint=!0;try{return On.createRoot(e,t)}finally{Kr.usingClientEntryPoint=!1}},Gn.hydrateRoot=function(e,t,r){Kr.usingClientEntryPoint=!0;try{return On.hydrateRoot(e,t,r)}finally{Kr.usingClientEntryPoint=!1}}}var Ys={exports:{}},Ks={};/**
 * @license React
 * use-sync-external-store-with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function e(f,E){return f===E&&(f!==0||1/f===1/E)||f!==f&&E!==E}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var t=R,r=typeof Object.is=="function"?Object.is:e,o=t.useSyncExternalStore,s=t.useRef,i=t.useEffect,a=t.useMemo,m=t.useDebugValue;Ks.useSyncExternalStoreWithSelector=function(f,E,b,p,x){var C=s(null);if(C.current===null){var D={hasValue:!1,value:null};C.current=D}else D=C.current;C=a(function(){function N(z){if(!L){if(L=!0,y=z,z=p(z),x!==void 0&&D.hasValue){var T=D.value;if(x(T,z))return q=T}return q=z}if(T=q,r(y,z))return T;var re=p(z);return x!==void 0&&x(T,re)?(y=z,T):(y=z,q=re)}var L=!1,y,q,Q=b===void 0?null:b;return[function(){return N(E())},Q===null?void 0:function(){return N(Q())}]},[E,b,p,x]);var g=o(f,C[0],C[1]);return i(function(){D.hasValue=!0,D.value=g},[g]),m(g),g},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})();Ys.exports=Ks;var Ba=Ys.exports;function Ua(e){e()}function za(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ua(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let o=e;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!o||e===null||(o=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var $o={notify(){},get:()=>[]};function Wa(e,t){let r,o=$o,s=0,i=!1;function a(g){b();const N=o.subscribe(g);let L=!1;return()=>{L||(L=!0,N(),p())}}function m(){o.notify()}function f(){D.onStateChange&&D.onStateChange()}function E(){return i}function b(){s++,r||(r=e.subscribe(f),o=za())}function p(){s--,r&&s===0&&(r(),r=void 0,o.clear(),o=$o)}function x(){i||(i=!0,b())}function C(){i&&(i=!1,p())}const D={addNestedSub:a,notifyNestedSubs:m,handleChangeWrapper:f,isSubscribed:E,trySubscribe:x,tryUnsubscribe:C,getListeners:()=>o};return D}var qa=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ha=qa(),Qa=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$a=Qa(),Ga=()=>Ha||$a?R.useLayoutEffect:R.useEffect,Ya=Ga(),Bn=Symbol.for("react-redux-context"),Un=typeof globalThis<"u"?globalThis:{};function Ka(){if(!R.createContext)return{};const e=Un[Bn]??(Un[Bn]=new Map);let t=e.get(R.createContext);return t||(t=R.createContext(null),t.displayName="ReactRedux",e.set(R.createContext,t)),t}var wt=Ka();function Xa(e){const{children:t,context:r,serverState:o,store:s}=e,i=R.useMemo(()=>{const f=Wa(s),E={store:s,subscription:f,getServerState:o?()=>o:void 0};{const{identityFunctionCheck:b="once",stabilityCheck:p="once"}=e;return Object.assign(E,{stabilityCheck:p,identityFunctionCheck:b})}},[s,o]),a=R.useMemo(()=>s.getState(),[s]);Ya(()=>{const{subscription:f}=i;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),a!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[i,a]);const m=r||wt;return R.createElement(m.Provider,{value:i},t)}var Ja=Xa;function xo(e=wt){return function(){const r=R.useContext(e);if(!r)throw new Error("could not find react-redux context value; please ensure the component is wrapped in a <Provider>");return r}}var Xs=xo();function Js(e=wt){const t=e===wt?Xs:xo(e),r=()=>{const{store:o}=t();return o};return Object.assign(r,{withTypes:()=>r}),r}var Za=Js();function el(e=wt){const t=e===wt?Za:Js(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var tl=el(),rl=(e,t)=>e===t;function nl(e=wt){const t=e===wt?Xs:xo(e),r=(o,s={})=>{const{equalityFn:i=rl}=typeof s=="function"?{equalityFn:s}:s;{if(!o)throw new Error("You must pass a selector to useSelector");if(typeof o!="function")throw new Error("You must pass a function as a selector to useSelector");if(typeof i!="function")throw new Error("You must pass a function as an equality function to useSelector")}const a=t(),{store:m,subscription:f,getServerState:E}=a,b=R.useRef(!0),p=R.useCallback({[o.name](C){const D=o(C);{const{devModeChecks:g={}}=typeof s=="function"?{}:s,{identityFunctionCheck:N,stabilityCheck:L}=a,{identityFunctionCheck:y,stabilityCheck:q}={stabilityCheck:L,identityFunctionCheck:N,...g};if(q==="always"||q==="once"&&b.current){const Q=o(C);if(!i(D,Q)){let z;try{throw new Error}catch(T){({stack:z}=T)}console.warn("Selector "+(o.name||"unknown")+` returned a different result when called with the same parameters. This can lead to unnecessary rerenders.
Selectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization`,{state:C,selected:D,selected2:Q,stack:z})}}if((y==="always"||y==="once"&&b.current)&&D===C){let Q;try{throw new Error}catch(z){({stack:Q}=z)}console.warn("Selector "+(o.name||"unknown")+` returned the root state when called. This can lead to unnecessary rerenders.
Selectors that return the entire state are almost certainly a mistake, as they will cause a rerender whenever *anything* in state changes.`,{stack:Q})}b.current&&(b.current=!1)}return D}}[o.name],[o]),x=Ba.useSyncExternalStoreWithSelector(f.addNestedSub,m.getState,E||m.getState,p,i);return R.useDebugValue(x),x};return Object.assign(r,{withTypes:()=>r}),r}var ol=nl(),yr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xt=typeof window>"u"||"Deno"in globalThis;function Re(){}function sl(e,t){return typeof e=="function"?e(t):e}function Yn(e){return typeof e=="number"&&e>=0&&e!==1/0}function Zs(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mt(e,t){return typeof e=="function"?e(t):e}function et(e,t){return typeof e=="function"?e(t):e}function Go(e,t){const{type:r="all",exact:o,fetchStatus:s,predicate:i,queryKey:a,stale:m}=e;if(a){if(o){if(t.queryHash!==vo(a,t.options))return!1}else if(!_r(t.queryKey,a))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||s&&s!==t.state.fetchStatus||i&&!i(t))}function Yo(e,t){const{exact:r,status:o,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Jt(t.options.mutationKey)!==Jt(i))return!1}else if(!_r(t.options.mutationKey,i))return!1}return!(o&&t.state.status!==o||s&&!s(t))}function vo(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jt)(e)}function Jt(e){return JSON.stringify(e,(t,r)=>Xn(r)?Object.keys(r).sort().reduce((o,s)=>(o[s]=r[s],o),{}):r)}function _r(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>_r(e[r],t[r])):!1}function Kn(e,t){if(e===t)return e;const r=Ko(e)&&Ko(t);if(r||Xn(e)&&Xn(t)){const o=r?e:Object.keys(e),s=o.length,i=r?t:Object.keys(t),a=i.length,m=r?[]:{},f=new Set(o);let E=0;for(let b=0;b<a;b++){const p=r?b:i[b];(!r&&f.has(p)||r)&&e[p]===void 0&&t[p]===void 0?(m[p]=void 0,E++):(m[p]=Kn(e[p],t[p]),m[p]===e[p]&&e[p]!==void 0&&E++)}return s===a&&E===s?e:m}return t}function fn(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Ko(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xn(e){if(!Xo(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Xo(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Xo(e){return Object.prototype.toString.call(e)==="[object Object]"}function il(e){return new Promise(t=>{setTimeout(t,e)})}function Jn(e,t,r){if(typeof r.structuralSharing=="function")return r.structuralSharing(e,t);if(r.structuralSharing!==!1){try{return Kn(e,t)}catch(o){throw console.error(`Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${r.queryHash}]: ${o}`),o}return Kn(e,t)}return t}function al(e,t,r=0){const o=[...e,t];return r&&o.length>r?o.slice(1):o}function ll(e,t,r=0){const o=[t,...e];return r&&o.length>r?o.slice(0,-1):o}var pn=Symbol();function ei(e,t){return e.queryFn===pn&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${e.queryHash}'`),!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===pn?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ti(e,t){return typeof e=="function"?e(...t):!!e}var zt,vt,ar,Ts,dl=(Ts=class extends yr{constructor(){super();$(this,zt);$(this,vt);$(this,ar);U(this,ar,t=>{if(!Xt&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){d(this,vt)||this.setEventListener(d(this,ar))}onUnsubscribe(){var t;this.hasListeners()||((t=d(this,vt))==null||t.call(this),U(this,vt,void 0))}setEventListener(t){var r;U(this,ar,t),(r=d(this,vt))==null||r.call(this),U(this,vt,t(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(t){d(this,zt)!==t&&(U(this,zt,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof d(this,zt)=="boolean"?d(this,zt):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zt=new WeakMap,vt=new WeakMap,ar=new WeakMap,Ts),jo=new dl,lr,jt,dr,Ps,cl=(Ps=class extends yr{constructor(){super();$(this,lr,!0);$(this,jt);$(this,dr);U(this,dr,t=>{if(!Xt&&window.addEventListener){const r=()=>t(!0),o=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",o)}}})}onSubscribe(){d(this,jt)||this.setEventListener(d(this,dr))}onUnsubscribe(){var t;this.hasListeners()||((t=d(this,jt))==null||t.call(this),U(this,jt,void 0))}setEventListener(t){var r;U(this,dr,t),(r=d(this,jt))==null||r.call(this),U(this,jt,t(this.setOnline.bind(this)))}setOnline(t){d(this,lr)!==t&&(U(this,lr,t),this.listeners.forEach(o=>{o(t)}))}isOnline(){return d(this,lr)}},lr=new WeakMap,jt=new WeakMap,dr=new WeakMap,Ps),hn=new cl;function Zn(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function o(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{o({status:"fulfilled",value:s}),e(s)},r.reject=s=>{o({status:"rejected",reason:s}),t(s)},r}function ul(e){return Math.min(1e3*2**e,3e4)}function ri(e){return(e??"online")==="online"?hn.isOnline():!0}var ni=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zn(e){return e instanceof ni}function oi(e){let t=!1,r=0,o=!1,s;const i=Zn(),a=g=>{var N;o||(x(new ni(g)),(N=e.abort)==null||N.call(e))},m=()=>{t=!0},f=()=>{t=!1},E=()=>jo.isFocused()&&(e.networkMode==="always"||hn.isOnline())&&e.canRun(),b=()=>ri(e.networkMode)&&e.canRun(),p=g=>{var N;o||(o=!0,(N=e.onSuccess)==null||N.call(e,g),s==null||s(),i.resolve(g))},x=g=>{var N;o||(o=!0,(N=e.onError)==null||N.call(e,g),s==null||s(),i.reject(g))},C=()=>new Promise(g=>{var N;s=L=>{(o||E())&&g(L)},(N=e.onPause)==null||N.call(e)}).then(()=>{var g;s=void 0,o||(g=e.onContinue)==null||g.call(e)}),D=()=>{if(o)return;let g;const N=r===0?e.initialPromise:void 0;try{g=N??e.fn()}catch(L){g=Promise.reject(L)}Promise.resolve(g).then(p).catch(L=>{var T;if(o)return;const y=e.retry??(Xt?0:3),q=e.retryDelay??ul,Q=typeof q=="function"?q(r,L):q,z=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,L);if(t||!z){x(L);return}r++,(T=e.onFail)==null||T.call(e,r,L),il(Q).then(()=>E()?void 0:C()).then(()=>{t?x(L):D()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:m,continueRetry:f,canStart:b,start:()=>(b()?D():C().then(D),i)}}var ml=e=>setTimeout(e,0);function fl(){let e=[],t=0,r=m=>{m()},o=m=>{m()},s=ml;const i=m=>{t?e.push(m):s(()=>{r(m)})},a=()=>{const m=e;e=[],m.length&&s(()=>{o(()=>{m.forEach(f=>{r(f)})})})};return{batch:m=>{let f;t++;try{f=m()}finally{t--,t||a()}return f},batchCalls:m=>(...f)=>{i(()=>{m(...f)})},schedule:i,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{o=m},setScheduler:m=>{s=m}}}var De=fl(),Wt,Ss,si=(Ss=class{constructor(){$(this,Wt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yn(this.gcTime)&&U(this,Wt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xt?1/0:5*60*1e3))}clearGcTimeout(){d(this,Wt)&&(clearTimeout(d(this,Wt)),U(this,Wt,void 0))}},Wt=new WeakMap,Ss),cr,ur,He,qt,Ce,Ir,Ht,$e,dt,Cs,pl=(Cs=class extends si{constructor(t){super();$(this,$e);$(this,cr);$(this,ur);$(this,He);$(this,qt);$(this,Ce);$(this,Ir);$(this,Ht);U(this,Ht,!1),U(this,Ir,t.defaultOptions),this.setOptions(t.options),this.observers=[],U(this,qt,t.client),U(this,He,d(this,qt).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,U(this,cr,hl(this.options)),this.state=t.state??d(this,cr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=d(this,Ce))==null?void 0:t.promise}setOptions(t){this.options={...d(this,Ir),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&d(this,He).remove(this)}setData(t,r){const o=Jn(this.state.data,t,this.options);return ee(this,$e,dt).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(t,r){ee(this,$e,dt).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var o,s;const r=(o=d(this,Ce))==null?void 0:o.promise;return(s=d(this,Ce))==null||s.cancel(t),r?r.then(Re).catch(Re):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(d(this,cr))}isActive(){return this.observers.some(t=>et(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Mt(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Zs(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(o=>o.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=d(this,Ce))==null||r.continue()}onOnline(){var r;const t=this.observers.find(o=>o.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=d(this,Ce))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),d(this,He).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(d(this,Ce)&&(d(this,Ht)?d(this,Ce).cancel({revert:!0}):d(this,Ce).cancelRetry()),this.scheduleGc()),d(this,He).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ee(this,$e,dt).call(this,{type:"invalidate"})}fetch(t,r){var E,b,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(d(this,Ce))return d(this,Ce).continueRetry(),d(this,Ce).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(C=>C.options.queryFn);x&&this.setOptions(x.options)}Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']");const o=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(U(this,Ht,!0),o.signal)})},i=()=>{const x=ei(this.options,r),D=(()=>{const g={client:d(this,qt),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return U(this,Ht,!1),this.options.persister?this.options.persister(x,D,this):x(D)},m=(()=>{const x={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:d(this,qt),state:this.state,fetchFn:i};return s(x),x})();(E=this.options.behavior)==null||E.onFetch(m,this),U(this,ur,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=m.fetchOptions)==null?void 0:b.meta))&&ee(this,$e,dt).call(this,{type:"fetch",meta:(p=m.fetchOptions)==null?void 0:p.meta});const f=x=>{var C,D,g,N;zn(x)&&x.silent||ee(this,$e,dt).call(this,{type:"error",error:x}),zn(x)||((D=(C=d(this,He).config).onError)==null||D.call(C,x,this),(N=(g=d(this,He).config).onSettled)==null||N.call(g,this.state.data,x,this)),this.scheduleGc()};return U(this,Ce,oi({initialPromise:r==null?void 0:r.initialPromise,fn:m.fetchFn,abort:o.abort.bind(o),onSuccess:x=>{var C,D,g,N;if(x===void 0){console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(L){f(L);return}(D=(C=d(this,He).config).onSuccess)==null||D.call(C,x,this),(N=(g=d(this,He).config).onSettled)==null||N.call(g,x,this.state.error,this),this.scheduleGc()},onError:f,onFail:(x,C)=>{ee(this,$e,dt).call(this,{type:"failed",failureCount:x,error:C})},onPause:()=>{ee(this,$e,dt).call(this,{type:"pause"})},onContinue:()=>{ee(this,$e,dt).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0})),d(this,Ce).start()}},cr=new WeakMap,ur=new WeakMap,He=new WeakMap,qt=new WeakMap,Ce=new WeakMap,Ir=new WeakMap,Ht=new WeakMap,$e=new WeakSet,dt=function(t){const r=o=>{switch(t.type){case"failed":return{...o,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...ii(o.data,this.options),fetchMeta:t.meta??null};case"success":return{...o,data:t.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return zn(s)&&s.revert&&d(this,ur)?{...d(this,ur),fetchStatus:"idle"}:{...o,error:s,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...t.state}}};this.state=r(this.state),De.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),d(this,He).notify({query:this,type:"updated",action:t})})},Cs);function ii(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ri(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hl(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,o=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ot,Ms,bl=(Ms=class extends yr{constructor(t={}){super();$(this,ot);this.config=t,U(this,ot,new Map)}build(t,r,o){const s=r.queryKey,i=r.queryHash??vo(s,r);let a=this.get(i);return a||(a=new pl({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:o,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){d(this,ot).has(t.queryHash)||(d(this,ot).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=d(this,ot).get(t.queryHash);r&&(t.destroy(),r===t&&d(this,ot).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){De.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return d(this,ot).get(t)}getAll(){return[...d(this,ot).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(o=>Go(r,o))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(o=>Go(t,o)):r}notify(t){De.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){De.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){De.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ot=new WeakMap,Ms),st,Ae,Qt,it,gt,ws,gl=(ws=class extends si{constructor(t){super();$(this,it);$(this,st);$(this,Ae);$(this,Qt);this.mutationId=t.mutationId,U(this,Ae,t.mutationCache),U(this,st,[]),this.state=t.state||ai(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){d(this,st).includes(t)||(d(this,st).push(t),this.clearGcTimeout(),d(this,Ae).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){U(this,st,d(this,st).filter(r=>r!==t)),this.scheduleGc(),d(this,Ae).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){d(this,st).length||(this.state.status==="pending"?this.scheduleGc():d(this,Ae).remove(this))}continue(){var t;return((t=d(this,Qt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,m,f,E,b,p,x,C,D,g,N,L,y,q,Q,z,T,re,M;const r=()=>{ee(this,it,gt).call(this,{type:"continue"})};U(this,Qt,oi({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(W,G)=>{ee(this,it,gt).call(this,{type:"failed",failureCount:W,error:G})},onPause:()=>{ee(this,it,gt).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>d(this,Ae).canRun(this)}));const o=this.state.status==="pending",s=!d(this,Qt).canStart();try{if(o)r();else{ee(this,it,gt).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=d(this,Ae).config).onMutate)==null?void 0:a.call(i,t,this));const G=await((f=(m=this.options).onMutate)==null?void 0:f.call(m,t));G!==this.state.context&&ee(this,it,gt).call(this,{type:"pending",context:G,variables:t,isPaused:s})}const W=await d(this,Qt).start();return await((b=(E=d(this,Ae).config).onSuccess)==null?void 0:b.call(E,W,t,this.state.context,this)),await((x=(p=this.options).onSuccess)==null?void 0:x.call(p,W,t,this.state.context)),await((D=(C=d(this,Ae).config).onSettled)==null?void 0:D.call(C,W,null,this.state.variables,this.state.context,this)),await((N=(g=this.options).onSettled)==null?void 0:N.call(g,W,null,t,this.state.context)),ee(this,it,gt).call(this,{type:"success",data:W}),W}catch(W){try{throw await((y=(L=d(this,Ae).config).onError)==null?void 0:y.call(L,W,t,this.state.context,this)),await((Q=(q=this.options).onError)==null?void 0:Q.call(q,W,t,this.state.context)),await((T=(z=d(this,Ae).config).onSettled)==null?void 0:T.call(z,void 0,W,this.state.variables,this.state.context,this)),await((M=(re=this.options).onSettled)==null?void 0:M.call(re,void 0,W,t,this.state.context)),W}finally{ee(this,it,gt).call(this,{type:"error",error:W})}}finally{d(this,Ae).runNext(this)}}},st=new WeakMap,Ae=new WeakMap,Qt=new WeakMap,it=new WeakSet,gt=function(t){const r=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),De.batch(()=>{d(this,st).forEach(o=>{o.onMutationUpdate(t)}),d(this,Ae).notify({mutation:this,type:"updated",action:t})})},ws);function ai(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ct,Ge,Fr,As,Nl=(As=class extends yr{constructor(t={}){super();$(this,ct);$(this,Ge);$(this,Fr);this.config=t,U(this,ct,new Set),U(this,Ge,new Map),U(this,Fr,0)}build(t,r,o){const s=new gl({mutationCache:this,mutationId:++Yr(this,Fr)._,options:t.defaultMutationOptions(r),state:o});return this.add(s),s}add(t){d(this,ct).add(t);const r=Xr(t);if(typeof r=="string"){const o=d(this,Ge).get(r);o?o.push(t):d(this,Ge).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(d(this,ct).delete(t)){const r=Xr(t);if(typeof r=="string"){const o=d(this,Ge).get(r);if(o)if(o.length>1){const s=o.indexOf(t);s!==-1&&o.splice(s,1)}else o[0]===t&&d(this,Ge).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Xr(t);if(typeof r=="string"){const o=d(this,Ge).get(r),s=o==null?void 0:o.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var o;const r=Xr(t);if(typeof r=="string"){const s=(o=d(this,Ge).get(r))==null?void 0:o.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){De.batch(()=>{d(this,ct).forEach(t=>{this.notify({type:"removed",mutation:t})}),d(this,ct).clear(),d(this,Ge).clear()})}getAll(){return Array.from(d(this,ct))}find(t){const r={exact:!0,...t};return this.getAll().find(o=>Yo(r,o))}findAll(t={}){return this.getAll().filter(r=>Yo(t,r))}notify(t){De.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return De.batch(()=>Promise.all(t.map(r=>r.continue().catch(Re))))}},ct=new WeakMap,Ge=new WeakMap,Fr=new WeakMap,As);function Xr(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Jo(e){return{onFetch:(t,r)=>{var b,p,x,C,D;const o=t.options,s=(x=(p=(b=t.fetchOptions)==null?void 0:b.meta)==null?void 0:p.fetchMore)==null?void 0:x.direction,i=((C=t.state.data)==null?void 0:C.pages)||[],a=((D=t.state.data)==null?void 0:D.pageParams)||[];let m={pages:[],pageParams:[]},f=0;const E=async()=>{let g=!1;const N=q=>{Object.defineProperty(q,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},L=ei(t.options,t.fetchOptions),y=async(q,Q,z)=>{if(g)return Promise.reject();if(Q==null&&q.pages.length)return Promise.resolve(q);const re=(()=>{const u={client:t.client,queryKey:t.queryKey,pageParam:Q,direction:z?"backward":"forward",meta:t.options.meta};return N(u),u})(),M=await L(re),{maxPages:W}=t.options,G=z?ll:al;return{pages:G(q.pages,M,W),pageParams:G(q.pageParams,Q,W)}};if(s&&i.length){const q=s==="backward",Q=q?xl:Zo,z={pages:i,pageParams:a},T=Q(o,z);m=await y(z,T,q)}else{const q=e??i.length;do{const Q=f===0?a[0]??o.initialPageParam:Zo(o,m);if(f>0&&Q==null)break;m=await y(m,Q),f++}while(f<q)}return m};t.options.persister?t.fetchFn=()=>{var g,N;return(N=(g=t.options).persister)==null?void 0:N.call(g,E,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=E}}}function Zo(e,{pages:t,pageParams:r}){const o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,r[o],r):void 0}function xl(e,{pages:t,pageParams:r}){var o;return t.length>0?(o=e.getPreviousPageParam)==null?void 0:o.call(e,t[0],t,r[0],r):void 0}var ge,yt,Et,mr,fr,Dt,pr,hr,ks,vl=(ks=class{constructor(e={}){$(this,ge);$(this,yt);$(this,Et);$(this,mr);$(this,fr);$(this,Dt);$(this,pr);$(this,hr);U(this,ge,e.queryCache||new bl),U(this,yt,e.mutationCache||new Nl),U(this,Et,e.defaultOptions||{}),U(this,mr,new Map),U(this,fr,new Map),U(this,Dt,0)}mount(){Yr(this,Dt)._++,d(this,Dt)===1&&(U(this,pr,jo.subscribe(async e=>{e&&(await this.resumePausedMutations(),d(this,ge).onFocus())})),U(this,hr,hn.subscribe(async e=>{e&&(await this.resumePausedMutations(),d(this,ge).onOnline())})))}unmount(){var e,t;Yr(this,Dt)._--,d(this,Dt)===0&&((e=d(this,pr))==null||e.call(this),U(this,pr,void 0),(t=d(this,hr))==null||t.call(this),U(this,hr,void 0))}isFetching(e){return d(this,ge).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return d(this,yt).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=d(this,ge).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=d(this,ge).build(this,t),o=r.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Mt(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(o))}getQueriesData(e){return d(this,ge).findAll(e).map(({queryKey:t,state:r})=>{const o=r.data;return[t,o]})}setQueryData(e,t,r){const o=this.defaultQueryOptions({queryKey:e}),s=d(this,ge).get(o.queryHash),i=s==null?void 0:s.state.data,a=sl(t,i);if(a!==void 0)return d(this,ge).build(this,o).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return De.batch(()=>d(this,ge).findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=d(this,ge).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=d(this,ge);De.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=d(this,ge);return De.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},o=De.batch(()=>d(this,ge).findAll(e).map(s=>s.cancel(r)));return Promise.all(o).then(Re).catch(Re)}invalidateQueries(e,t={}){return De.batch(()=>(d(this,ge).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},o=De.batch(()=>d(this,ge).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Re)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(o).then(Re)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=d(this,ge).build(this,t);return r.isStaleByTime(Mt(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Re).catch(Re)}fetchInfiniteQuery(e){return e.behavior=Jo(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Re).catch(Re)}ensureInfiniteQueryData(e){return e.behavior=Jo(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hn.isOnline()?d(this,yt).resumePausedMutations():Promise.resolve()}getQueryCache(){return d(this,ge)}getMutationCache(){return d(this,yt)}getDefaultOptions(){return d(this,Et)}setDefaultOptions(e){U(this,Et,e)}setQueryDefaults(e,t){d(this,mr).set(Jt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...d(this,mr).values()],r={};return t.forEach(o=>{_r(e,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(e,t){d(this,fr).set(Jt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...d(this,fr).values()],r={};return t.forEach(o=>{_r(e,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...d(this,Et).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=vo(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===pn&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...d(this,Et).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){d(this,ge).clear(),d(this,yt).clear()}},ge=new WeakMap,yt=new WeakMap,Et=new WeakMap,mr=new WeakMap,fr=new WeakMap,Dt=new WeakMap,pr=new WeakMap,hr=new WeakMap,ks),Ie,ie,Or,ke,$t,br,Vt,Tt,Br,gr,Nr,Gt,Yt,Pt,xr,ue,wr,eo,to,ro,no,oo,so,io,li,Rs,jl=(Rs=class extends yr{constructor(t,r){super();$(this,ue);$(this,Ie);$(this,ie);$(this,Or);$(this,ke);$(this,$t);$(this,br);$(this,Vt);$(this,Tt);$(this,Br);$(this,gr);$(this,Nr);$(this,Gt);$(this,Yt);$(this,Pt);$(this,xr,new Set);this.options=r,U(this,Ie,t),U(this,Tt,null),U(this,Vt,Zn()),this.options.experimental_prefetchInRender||d(this,Vt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(d(this,ie).addObserver(this),es(d(this,ie),this.options)?ee(this,ue,wr).call(this):this.updateResult(),ee(this,ue,no).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ao(d(this,ie),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ao(d(this,ie),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ee(this,ue,oo).call(this),ee(this,ue,so).call(this),d(this,ie).removeObserver(this)}setOptions(t){const r=this.options,o=d(this,ie);if(this.options=d(this,Ie).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof et(this.options.enabled,d(this,ie))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ee(this,ue,io).call(this),d(this,ie).setOptions(this.options),r._defaulted&&!fn(this.options,r)&&d(this,Ie).getQueryCache().notify({type:"observerOptionsUpdated",query:d(this,ie),observer:this});const s=this.hasListeners();s&&ts(d(this,ie),o,this.options,r)&&ee(this,ue,wr).call(this),this.updateResult(),s&&(d(this,ie)!==o||et(this.options.enabled,d(this,ie))!==et(r.enabled,d(this,ie))||Mt(this.options.staleTime,d(this,ie))!==Mt(r.staleTime,d(this,ie)))&&ee(this,ue,eo).call(this);const i=ee(this,ue,to).call(this);s&&(d(this,ie)!==o||et(this.options.enabled,d(this,ie))!==et(r.enabled,d(this,ie))||i!==d(this,Pt))&&ee(this,ue,ro).call(this,i)}getOptimisticResult(t){const r=d(this,Ie).getQueryCache().build(d(this,Ie),t),o=this.createResult(r,t);return El(this,o)&&(U(this,ke,o),U(this,br,this.options),U(this,$t,d(this,ie).state)),o}getCurrentResult(){return d(this,ke)}trackResult(t,r){return new Proxy(t,{get:(o,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(o,s))})}trackProp(t){d(this,xr).add(t)}getCurrentQuery(){return d(this,ie)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=d(this,Ie).defaultQueryOptions(t),o=d(this,Ie).getQueryCache().build(d(this,Ie),r);return o.fetch().then(()=>this.createResult(o,r))}fetch(t){return ee(this,ue,wr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),d(this,ke)))}createResult(t,r){var W;const o=d(this,ie),s=this.options,i=d(this,ke),a=d(this,$t),m=d(this,br),E=t!==o?t.state:d(this,Or),{state:b}=t;let p={...b},x=!1,C;if(r._optimisticResults){const G=this.hasListeners(),u=!G&&es(t,r),j=G&&ts(t,o,r,s);(u||j)&&(p={...p,...ii(b.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:D,errorUpdatedAt:g,status:N}=p;C=p.data;let L=!1;if(r.placeholderData!==void 0&&C===void 0&&N==="pending"){let G;i!=null&&i.isPlaceholderData&&r.placeholderData===(m==null?void 0:m.placeholderData)?(G=i.data,L=!0):G=typeof r.placeholderData=="function"?r.placeholderData((W=d(this,Nr))==null?void 0:W.state.data,d(this,Nr)):r.placeholderData,G!==void 0&&(N="success",C=Jn(i==null?void 0:i.data,G,r),x=!0)}if(r.select&&C!==void 0&&!L)if(i&&C===(a==null?void 0:a.data)&&r.select===d(this,Br))C=d(this,gr);else try{U(this,Br,r.select),C=r.select(C),C=Jn(i==null?void 0:i.data,C,r),U(this,gr,C),U(this,Tt,null)}catch(G){U(this,Tt,G)}d(this,Tt)&&(D=d(this,Tt),C=d(this,gr),g=Date.now(),N="error");const y=p.fetchStatus==="fetching",q=N==="pending",Q=N==="error",z=q&&y,T=C!==void 0,M={status:N,fetchStatus:p.fetchStatus,isPending:q,isSuccess:N==="success",isError:Q,isInitialLoading:z,isLoading:z,data:C,dataUpdatedAt:p.dataUpdatedAt,error:D,errorUpdatedAt:g,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>E.dataUpdateCount||p.errorUpdateCount>E.errorUpdateCount,isFetching:y,isRefetching:y&&!q,isLoadingError:Q&&!T,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:Q&&T,isStale:yo(t,r),refetch:this.refetch,promise:d(this,Vt)};if(this.options.experimental_prefetchInRender){const G=V=>{M.status==="error"?V.reject(M.error):M.data!==void 0&&V.resolve(M.data)},u=()=>{const V=U(this,Vt,M.promise=Zn());G(V)},j=d(this,Vt);switch(j.status){case"pending":t.queryHash===o.queryHash&&G(j);break;case"fulfilled":(M.status==="error"||M.data!==j.value)&&u();break;case"rejected":(M.status!=="error"||M.error!==j.reason)&&u();break}}return M}updateResult(){const t=d(this,ke),r=this.createResult(d(this,ie),this.options);if(U(this,$t,d(this,ie).state),U(this,br,this.options),d(this,$t).data!==void 0&&U(this,Nr,d(this,ie)),fn(r,t))return;U(this,ke,r);const o=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!d(this,xr).size)return!0;const a=new Set(i??d(this,xr));return this.options.throwOnError&&a.add("error"),Object.keys(d(this,ke)).some(m=>{const f=m;return d(this,ke)[f]!==t[f]&&a.has(f)})};ee(this,ue,li).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ee(this,ue,no).call(this)}},Ie=new WeakMap,ie=new WeakMap,Or=new WeakMap,ke=new WeakMap,$t=new WeakMap,br=new WeakMap,Vt=new WeakMap,Tt=new WeakMap,Br=new WeakMap,gr=new WeakMap,Nr=new WeakMap,Gt=new WeakMap,Yt=new WeakMap,Pt=new WeakMap,xr=new WeakMap,ue=new WeakSet,wr=function(t){ee(this,ue,io).call(this);let r=d(this,ie).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Re)),r},eo=function(){ee(this,ue,oo).call(this);const t=Mt(this.options.staleTime,d(this,ie));if(Xt||d(this,ke).isStale||!Yn(t))return;const o=Zs(d(this,ke).dataUpdatedAt,t)+1;U(this,Gt,setTimeout(()=>{d(this,ke).isStale||this.updateResult()},o))},to=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(d(this,ie)):this.options.refetchInterval)??!1},ro=function(t){ee(this,ue,so).call(this),U(this,Pt,t),!(Xt||et(this.options.enabled,d(this,ie))===!1||!Yn(d(this,Pt))||d(this,Pt)===0)&&U(this,Yt,setInterval(()=>{(this.options.refetchIntervalInBackground||jo.isFocused())&&ee(this,ue,wr).call(this)},d(this,Pt)))},no=function(){ee(this,ue,eo).call(this),ee(this,ue,ro).call(this,ee(this,ue,to).call(this))},oo=function(){d(this,Gt)&&(clearTimeout(d(this,Gt)),U(this,Gt,void 0))},so=function(){d(this,Yt)&&(clearInterval(d(this,Yt)),U(this,Yt,void 0))},io=function(){const t=d(this,Ie).getQueryCache().build(d(this,Ie),this.options);if(t===d(this,ie))return;const r=d(this,ie);U(this,ie,t),U(this,Or,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},li=function(t){De.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(d(this,ke))}),d(this,Ie).getQueryCache().notify({query:d(this,ie),type:"observerResultsUpdated"})})},Rs);function yl(e,t){return et(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function es(e,t){return yl(e,t)||e.state.data!==void 0&&ao(e,t,t.refetchOnMount)}function ao(e,t,r){if(et(t.enabled,e)!==!1&&Mt(t.staleTime,e)!=="static"){const o=typeof r=="function"?r(e):r;return o==="always"||o!==!1&&yo(e,t)}return!1}function ts(e,t,r,o){return(e!==t||et(o.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&yo(e,r)}function yo(e,t){return et(t.enabled,e)!==!1&&e.isStaleByTime(Mt(t.staleTime,e))}function El(e,t){return!fn(e.getCurrentResult(),t)}var St,Ct,Fe,ut,pt,ln,lo,Ls,Dl=(Ls=class extends yr{constructor(r,o){super();$(this,pt);$(this,St);$(this,Ct);$(this,Fe);$(this,ut);U(this,St,r),this.setOptions(o),this.bindMethods(),ee(this,pt,ln).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const o=this.options;this.options=d(this,St).defaultMutationOptions(r),fn(this.options,o)||d(this,St).getMutationCache().notify({type:"observerOptionsUpdated",mutation:d(this,Fe),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&Jt(o.mutationKey)!==Jt(this.options.mutationKey)?this.reset():((s=d(this,Fe))==null?void 0:s.state.status)==="pending"&&d(this,Fe).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=d(this,Fe))==null||r.removeObserver(this)}onMutationUpdate(r){ee(this,pt,ln).call(this),ee(this,pt,lo).call(this,r)}getCurrentResult(){return d(this,Ct)}reset(){var r;(r=d(this,Fe))==null||r.removeObserver(this),U(this,Fe,void 0),ee(this,pt,ln).call(this),ee(this,pt,lo).call(this)}mutate(r,o){var s;return U(this,ut,o),(s=d(this,Fe))==null||s.removeObserver(this),U(this,Fe,d(this,St).getMutationCache().build(d(this,St),this.options)),d(this,Fe).addObserver(this),d(this,Fe).execute(r)}},St=new WeakMap,Ct=new WeakMap,Fe=new WeakMap,ut=new WeakMap,pt=new WeakSet,ln=function(){var o;const r=((o=d(this,Fe))==null?void 0:o.state)??ai();U(this,Ct,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},lo=function(r){De.batch(()=>{var o,s,i,a,m,f,E,b;if(d(this,ut)&&this.hasListeners()){const p=d(this,Ct).variables,x=d(this,Ct).context;(r==null?void 0:r.type)==="success"?((s=(o=d(this,ut)).onSuccess)==null||s.call(o,r.data,p,x),(a=(i=d(this,ut)).onSettled)==null||a.call(i,r.data,null,p,x)):(r==null?void 0:r.type)==="error"&&((f=(m=d(this,ut)).onError)==null||f.call(m,r.error,p,x),(b=(E=d(this,ut)).onSettled)==null||b.call(E,void 0,r.error,p,x))}this.listeners.forEach(p=>{p(d(this,Ct))})})},Ls),di=R.createContext(void 0),Eo=e=>{const t=R.useContext(di);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Vl=({client:e,children:t})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Ui.jsx(di.Provider,{value:e,children:t})),ci=R.createContext(!1),Tl=()=>R.useContext(ci);ci.Provider;function Pl(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Sl=R.createContext(Pl()),Cl=()=>R.useContext(Sl),Ml=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},wl=e=>{R.useEffect(()=>{e.clearReset()},[e])},Al=({result:e,errorResetBoundary:t,throwOnError:r,query:o,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&o&&(s&&e.data===void 0||ti(r,[e.error,o])),kl=e=>{if(e.suspense){const t=o=>o==="static"?o:Math.max(o??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...o)=>t(r(...o)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Rl=(e,t)=>e.isLoading&&e.isFetching&&!t,Ll=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,rs=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function _l(e,t,r){var p,x,C,D,g;if(typeof e!="object"||Array.isArray(e))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const o=Tl(),s=Cl(),i=Eo(),a=i.defaultQueryOptions(e);(x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||x.call(p,a),a.queryFn||console.error(`[${a.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`),a._optimisticResults=o?"isRestoring":"optimistic",kl(a),Ml(a,s),wl(s);const m=!i.getQueryCache().get(a.queryHash),[f]=R.useState(()=>new t(i,a)),E=f.getOptimisticResult(a),b=!o&&e.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(N=>{const L=b?f.subscribe(De.batchCalls(N)):Re;return f.updateResult(),L},[f,b]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),R.useEffect(()=>{f.setOptions(a)},[a,f]),Ll(a,E))throw rs(a,f,s);if(Al({result:E,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw E.error;if((D=(C=i.getDefaultOptions().queries)==null?void 0:C._experimental_afterQuery)==null||D.call(C,a,E),a.experimental_prefetchInRender&&!Xt&&Rl(E,o)){const N=m?rs(a,f,s):(g=i.getQueryCache().get(a.queryHash))==null?void 0:g.promise;N==null||N.catch(Re).finally(()=>{f.updateResult()})}return a.notifyOnChangeProps?E:f.trackResult(E)}function Il(e,t){return _l(e,jl)}function Wn(e,t){const r=Eo(),[o]=R.useState(()=>new Dl(r,e));R.useEffect(()=>{o.setOptions(e)},[o,e]);const s=R.useSyncExternalStore(R.useCallback(a=>o.subscribe(De.batchCalls(a)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),i=R.useCallback((a,m)=>{o.mutate(a,m).catch(Re)},[o]);if(s.error&&ti(o.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Fl=()=>{var e;return typeof window<"u"&&((e=window.APP_CONFIG)!=null&&e.API_BASE_URL)?window.APP_CONFIG.API_BASE_URL:"http://localhost:3000"},Ol=Fl(),Te=Ia.create({baseURL:Ol,timeout:1e4,headers:{"Content-Type":"application/json"}}),Er=e=>{e?(Te.defaults.headers.common.Authorization=`Bearer ${e}`,console.log("[API] Token set in axios defaults")):(delete Te.defaults.headers.common.Authorization,console.log("[API] Token removed from axios defaults"))};Te.interceptors.request.use(e=>{if(console.log("[API] Request interceptor:",{url:e.url,hasAuthHeader:!!e.headers.Authorization,authHeader:e.headers.Authorization?String(e.headers.Authorization).substring(0,50)+"...":"none"}),!e.headers.Authorization){const t=localStorage.getItem("accessToken");t&&(e.headers.Authorization=`Bearer ${t}`,console.log("[API] Added token from localStorage"))}return e},e=>Promise.reject(e));let Jr=!1,Zr=0;const Bl=1;Te.interceptors.response.use(e=>(Zr=0,e),async e=>{var r,o,s,i,a;const t=e.config;if(console.log("[API] Response error:",{status:(r=e.response)==null?void 0:r.status,url:t.url,message:(s=(o=e.response)==null?void 0:o.data)==null?void 0:s.message}),(i=t.url)!=null&&i.includes("/auth/"))return Promise.reject(e);if(((a=e.response)==null?void 0:a.status)===401&&!t._retry&&Zr<Bl&&(t._retry=!0,!Jr)){Jr=!0,Zr++;try{await uo.dispatch(co()).unwrap(),Jr=!1;const m=localStorage.getItem("accessToken");if(m)return t.headers.Authorization=`Bearer ${m}`,Te(t)}catch(m){return Jr=!1,Zr=0,uo.dispatch(ql()),window.location.pathname!=="/login"&&(window.location.href="/login"),Promise.reject(m)}}return Promise.reject(e)});const Zt={login:e=>Te.post("/api/auth/login",e),register:e=>Te.post("/api/auth/register",e),refreshToken:e=>Te.post("/api/auth/refresh",e),logout:e=>Te.post("/api/auth/logout",e),logoutAll:()=>Te.post("/api/auth/logout-all"),getProfile:()=>Te.get("/api/auth/profile"),updateUserRole:(e,t)=>Te.patch(`/api/auth/users/${e}/role`,{role:t}),getUserById:e=>Te.get(`/api/auth/users/${e}`)},en={getProjects:()=>Te.get("/api/projects"),getProject:e=>Te.get(`/api/projects/${e}`),createProject:e=>Te.post("/api/projects",e),updateProject:(e,t)=>Te.put(`/api/projects/${e}`,t),deleteProject:e=>Te.delete(`/api/projects/${e}`)},Ul={checkToken:()=>{const e=localStorage.getItem("accessToken");if(!e){console.log("[AUTH DEBUG] No token in localStorage");return}console.log("[AUTH DEBUG] Token found:",{length:e.length,firstChars:e.substring(0,20),lastChars:e.substring(e.length-20),startsWithBearer:e.startsWith("Bearer"),includesBearer:e.includes("Bearer"),isJWT:e.split(".").length===3});try{const t=e.split(".");if(t.length===3){const r=JSON.parse(atob(t[1]));console.log("[AUTH DEBUG] JWT payload:",r),console.log("[AUTH DEBUG] Token expires:",new Date(r.exp*1e3))}}catch(t){console.error("[AUTH DEBUG] Failed to decode JWT:",t)}},interceptRequest:e=>{console.log("[AUTH DEBUG] Request config:",{url:e.url,method:e.method,headers:{...e.headers,Authorization:e.headers.Authorization?e.headers.Authorization.substring(0,50)+"...":"none"}})}},zl={user:null,tokens:null,isAuthenticated:!1,isLoading:!1,error:null,isInitialized:!1},dn=jr("auth/login",async(e,{rejectWithValue:t})=>{var r,o;try{const s=await Zt.login(e);localStorage.setItem("accessToken",s.data.accessToken),localStorage.setItem("refreshToken",s.data.refreshToken),console.log("[AUTH] Tokens stored in localStorage"),Ul.checkToken(),Er(s.data.accessToken);const i=await Zt.getProfile();return{tokens:s.data,user:i.data}}catch(s){return t(((o=(r=s.response)==null?void 0:r.data)==null?void 0:o.error)||"Login failed")}}),qn=jr("auth/register",async(e,{rejectWithValue:t})=>{var r,o;try{const s=await Zt.register(e);return localStorage.setItem("accessToken",s.data.accessToken),localStorage.setItem("refreshToken",s.data.refreshToken),Er(s.data.accessToken),s.data}catch(s){return t(((o=(r=s.response)==null?void 0:r.data)==null?void 0:o.error)||"Registration failed")}}),ns=jr("auth/getProfile",async(e,{rejectWithValue:t})=>{var r,o;try{return(await Zt.getProfile()).data}catch(s){return t(((o=(r=s.response)==null?void 0:r.data)==null?void 0:o.error)||"Failed to get profile")}}),co=jr("auth/refreshTokens",async(e,{rejectWithValue:t})=>{var r,o;try{const s=localStorage.getItem("refreshToken");if(!s)throw new Error("No refresh token available");const i=await Zt.refreshToken({refreshToken:s});return localStorage.setItem("accessToken",i.data.accessToken),localStorage.setItem("refreshToken",i.data.refreshToken),Er(i.data.accessToken),i.data}catch(s){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),t(((o=(r=s.response)==null?void 0:r.data)==null?void 0:o.error)||"Token refresh failed")}}),ui=jr("auth/logout",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("refreshToken");r&&await Zt.logout({refreshToken:r})}catch(r){console.warn("Logout API call failed:",r)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),Er(null)}}),cn=jr("auth/initialize",async(e,{rejectWithValue:t})=>{const r=localStorage.getItem("accessToken"),o=localStorage.getItem("refreshToken");if(!r||!o)return t("No tokens found");Er(r);try{return{user:(await Zt.getProfile()).data,tokens:{accessToken:r,refreshToken:o,expiresIn:900}}}catch{return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),t("Authentication session expired")}}),mi=No({name:"auth",initialState:zl,reducers:{clearError:e=>{e.error=null},setUser:(e,t)=>{e.user=t.payload},clearAuth:e=>{e.user=null,e.tokens=null,e.isAuthenticated=!1,e.error=null,localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),Er(null)}},extraReducers:e=>{e.addCase(dn.pending,t=>{t.isLoading=!0,t.error=null}).addCase(dn.fulfilled,(t,r)=>{t.isLoading=!1,t.tokens=r.payload.tokens,t.user=r.payload.user,t.isAuthenticated=!0,t.error=null}).addCase(dn.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload,t.isAuthenticated=!1}),e.addCase(qn.pending,t=>{t.isLoading=!0,t.error=null}).addCase(qn.fulfilled,(t,r)=>{t.isLoading=!1,t.tokens=r.payload,t.isAuthenticated=!0,t.error=null}).addCase(qn.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload,t.isAuthenticated=!1}),e.addCase(ns.fulfilled,(t,r)=>{t.user=r.payload}).addCase(ns.rejected,(t,r)=>{t.error=r.payload}),e.addCase(co.fulfilled,(t,r)=>{t.tokens=r.payload,t.isAuthenticated=!0}).addCase(co.rejected,t=>{t.user=null,t.tokens=null,t.isAuthenticated=!1}),e.addCase(ui.fulfilled,t=>{t.user=null,t.tokens=null,t.isAuthenticated=!1,t.error=null}),e.addCase(cn.pending,t=>{t.isLoading=!0}).addCase(cn.fulfilled,(t,r)=>{t.isLoading=!1,t.user=r.payload.user,t.tokens=r.payload.tokens,t.isAuthenticated=!0,t.isInitialized=!0}).addCase(cn.rejected,t=>{t.isLoading=!1,t.isAuthenticated=!1,t.isInitialized=!0})}}),{clearError:Wl,setUser:hc,clearAuth:ql}=mi.actions,Hl=mi.reducer,Ql={sidebarOpen:!0,theme:"light",notifications:[],loading:{global:!1}},fi=No({name:"ui",initialState:Ql,reducers:{toggleSidebar:e=>{e.sidebarOpen=!e.sidebarOpen},setSidebarOpen:(e,t)=>{e.sidebarOpen=t.payload},toggleTheme:e=>{e.theme=e.theme==="light"?"dark":"light"},setTheme:(e,t)=>{e.theme=t.payload},addNotification:(e,t)=>{const r={id:Date.now().toString(),duration:5e3,...t.payload};e.notifications.push(r)},removeNotification:(e,t)=>{e.notifications=e.notifications.filter(r=>r.id!==t.payload)},clearNotifications:e=>{e.notifications=[]},setGlobalLoading:(e,t)=>{e.loading.global=t.payload},setLoading:(e,t)=>{e.loading[t.payload.key]=t.payload.loading},clearLoading:(e,t)=>{delete e.loading[t.payload]}}}),{toggleSidebar:$l,setSidebarOpen:bc,toggleTheme:Gl,setTheme:gc,addNotification:Yl,removeNotification:os,clearNotifications:Nc,setGlobalLoading:xc,setLoading:vc,clearLoading:jc}=fi.actions,ss=e=>Yl(e),Kl=fi.reducer,is={nodes:[],connections:[],threats:[],selectedElement:null,canvasState:{zoom:1,pan:{x:0,y:0}}},pi=No({name:"editor",initialState:is,reducers:{addNode:(e,t)=>{e.nodes.push(t.payload)},updateNode:(e,t)=>{const r=e.nodes.findIndex(o=>o.id===t.payload.id);r!==-1&&(e.nodes[r]=t.payload)},deleteNode:(e,t)=>{e.nodes=e.nodes.filter(r=>r.id!==t.payload),e.connections=e.connections.filter(r=>r.source!==t.payload&&r.target!==t.payload),e.threats.forEach(r=>{r.affectedComponents=r.affectedComponents.filter(o=>o!==t.payload)})},addConnection:(e,t)=>{e.connections.push(t.payload)},updateConnection:(e,t)=>{const r=e.connections.findIndex(o=>o.id===t.payload.id);r!==-1&&(e.connections[r]=t.payload)},deleteConnection:(e,t)=>{e.connections=e.connections.filter(r=>r.id!==t.payload),e.threats.forEach(r=>{r.affectedFlows=r.affectedFlows.filter(o=>o!==t.payload)})},addThreat:(e,t)=>{e.threats.push(t.payload)},updateThreat:(e,t)=>{const r=e.threats.findIndex(o=>o.id===t.payload.id);r!==-1&&(e.threats[r]=t.payload)},deleteThreat:(e,t)=>{e.threats=e.threats.filter(r=>r.id!==t.payload)},setSelectedElement:(e,t)=>{e.selectedElement=t.payload},updateCanvasState:(e,t)=>{e.canvasState={...e.canvasState,...t.payload}},loadDiagram:(e,t)=>{e.nodes=t.payload.nodes,e.connections=t.payload.connections,e.threats=t.payload.threats,e.selectedElement=null},clearDiagram:e=>{e.nodes=[],e.connections=[],e.threats=[],e.selectedElement=null,e.canvasState=is.canvasState}}}),{addNode:Xl,updateNode:Jl,deleteNode:Zl,addConnection:ed,updateConnection:td,deleteConnection:rd,addThreat:nd,updateThreat:od,deleteThreat:sd,setSelectedElement:as,updateCanvasState:Hn,loadDiagram:id,clearDiagram:yc}=pi.actions,ad=pi.reducer,uo=Fa({reducer:{auth:Hl,ui:Kl,editor:ad},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}}),devTools:!0}),Dr=()=>tl(),ht=ol,ld=zi({palette:{mode:"light",primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0",contrastText:"#fff"},secondary:{main:"#dc004e",light:"#f50057",dark:"#c51162",contrastText:"#fff"},tertiary:{main:"#9c27b0",light:"#ba68c8",dark:"#7b1fa2",contrastText:"#fff"},error:{main:"#d32f2f",light:"#ef5350",dark:"#c62828"},warning:{main:"#ed6c02",light:"#ff9800",dark:"#e65100"},info:{main:"#0288d1",light:"#03a9f4",dark:"#01579b"},success:{main:"#2e7d32",light:"#4caf50",dark:"#1b5e20"},background:{default:"#fafafa",paper:"#ffffff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:500,lineHeight:1.2},h2:{fontSize:"2rem",fontWeight:500,lineHeight:1.3},h3:{fontSize:"1.75rem",fontWeight:500,lineHeight:1.4},h4:{fontSize:"1.5rem",fontWeight:500,lineHeight:1.4},h5:{fontSize:"1.25rem",fontWeight:500,lineHeight:1.5},h6:{fontSize:"1rem",fontWeight:500,lineHeight:1.6},body1:{fontSize:"1rem",lineHeight:1.5},body2:{fontSize:"0.875rem",lineHeight:1.43},button:{textTransform:"none",fontWeight:500}},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:500,minHeight:36,padding:"8px 16px"},containedPrimary:{boxShadow:"0 2px 4px rgba(25, 118, 210, 0.15)","&:hover":{boxShadow:"0 4px 8px rgba(25, 118, 210, 0.25)"}}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)","&:hover":{boxShadow:"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:8}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8}}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.12)"}}},MuiDrawer:{styleOverrides:{paper:{borderRight:"1px solid rgba(0, 0, 0, 0.12)"}}}}}),dd=({drawerWidth:e,sidebarOpen:t})=>{var C;const r=Dr(),{user:o}=ht(D=>D.auth),{theme:s}=ht(D=>D.ui),[i,a]=R.useState(null),m=D=>{a(D.currentTarget)},f=()=>{a(null)},E=async()=>{f(),await r(ui())},b=()=>{r(Gl())},p=(D,g)=>`${D.charAt(0)}${g.charAt(0)}`.toUpperCase(),x=D=>{switch(D){case"admin":return"#f44336";case"security_analyst":return"#ff9800";case"architect":return"#2196f3";case"developer":return"#4caf50";case"viewer":return"#9e9e9e";default:return"#9e9e9e"}};return n.jsxDEV(Wi,{position:"fixed",sx:{width:{sm:t?`calc(100% - ${e}px)`:"100%"},ml:{sm:t?`${e}px`:0},transition:D=>D.transitions.create(["margin","width"],{easing:D.transitions.easing.easeOut,duration:D.transitions.duration.enteringScreen})},children:n.jsxDEV(Rr,{children:[n.jsxDEV(Ve,{color:"inherit","aria-label":"toggle sidebar",edge:"start",onClick:()=>r($l()),sx:{mr:2},children:n.jsxDEV(qi,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:95,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:88,columnNumber:9},void 0),n.jsxDEV(A,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"Threat Modeling Platform"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:98,columnNumber:9},void 0),n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsxDEV(Ve,{color:"inherit",onClick:b,"aria-label":"toggle theme",children:s==="light"?n.jsxDEV(Hi,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:109,columnNumber:34},void 0):n.jsxDEV(Qi,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:109,columnNumber:49},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:104,columnNumber:11},void 0),n.jsxDEV(Ve,{color:"inherit","aria-label":"notifications",children:n.jsxDEV(vn,{badgeContent:0,color:"error",children:n.jsxDEV($i,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:118,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:117,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:113,columnNumber:11},void 0),n.jsxDEV(he,{onClick:m,color:"inherit",startIcon:n.jsxDEV(Nt,{sx:{width:32,height:32,bgcolor:x((o==null?void 0:o.role)||"viewer"),fontSize:"0.875rem"},children:o?p(o.firstName,o.lastName):"U"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:127,columnNumber:15},void 0),sx:{textTransform:"none",color:"inherit","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},children:n.jsxDEV(P,{sx:{textAlign:"left",ml:1},children:[n.jsxDEV(A,{variant:"body2",sx:{lineHeight:1.2},children:o?`${o.firstName} ${o.lastName}`:"User"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:147,columnNumber:15},void 0),n.jsxDEV(A,{variant:"caption",sx:{opacity:.7,lineHeight:1},children:((C=o==null?void 0:o.role)==null?void 0:C.replace("_"," "))||"Unknown"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:150,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:146,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:123,columnNumber:11},void 0),n.jsxDEV(jn,{anchorEl:i,open:!!i,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{minWidth:200,mt:1}},children:[n.jsxDEV(Z,{onClick:f,children:[n.jsxDEV(mt,{children:n.jsxDEV(Gi,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:177,columnNumber:17},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:176,columnNumber:15},void 0),n.jsxDEV(nt,{primary:"Profile"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:179,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:175,columnNumber:13},void 0),n.jsxDEV(Z,{onClick:f,children:[n.jsxDEV(mt,{children:n.jsxDEV(_s,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:184,columnNumber:17},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:183,columnNumber:15},void 0),n.jsxDEV(nt,{primary:"Settings"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:186,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:182,columnNumber:13},void 0),n.jsxDEV(Qe,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:189,columnNumber:13},void 0),n.jsxDEV(Z,{onClick:E,children:[n.jsxDEV(mt,{children:n.jsxDEV(Yi,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:193,columnNumber:17},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:192,columnNumber:15},void 0),n.jsxDEV(nt,{primary:"Logout"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:195,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:191,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:156,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:102,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:87,columnNumber:7},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/AppBar.tsx",lineNumber:75,columnNumber:5},void 0)},cd=[{text:"Dashboard",path:"/",icon:n.jsxDEV(Xi,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:45,columnNumber:11},void 0)},{text:"Projects",path:"/projects",icon:n.jsxDEV(Fs,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:50,columnNumber:11},void 0)},{text:"Threat Models",path:"/threat-models",icon:n.jsxDEV(Be,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:55,columnNumber:11},void 0)},{text:"Risk Assessment",path:"/risk-assessment",icon:n.jsxDEV(Os,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:60,columnNumber:11},void 0),badge:"Beta"},{text:"Vulnerabilities",path:"/vulnerabilities",icon:n.jsxDEV(po,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:66,columnNumber:11},void 0),badge:"New"}],ls=[{text:"User Management",path:"/admin/users",icon:n.jsxDEV(Is,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:75,columnNumber:11},void 0),roles:["admin"]},{text:"System Settings",path:"/admin/settings",icon:n.jsxDEV(_s,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:81,columnNumber:11},void 0),roles:["admin"]}],ud=[{text:"Help & Support",path:"/help",icon:n.jsxDEV(Ji,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:90,columnNumber:11},void 0)}],md=({drawerWidth:e,open:t})=>{const r=fo(),o=vr(),{user:s}=ht(b=>b.auth),i=b=>{o(b)},a=b=>b==="/"?r.pathname==="/":r.pathname.startsWith(b),m=b=>b.roles?b.roles.includes((s==null?void 0:s.role)||""):!0,f=b=>n.jsxDEV(Ur,{children:b.filter(m).map(p=>n.jsxDEV(zr,{disablePadding:!0,children:n.jsxDEV(Ki,{selected:a(p.path),onClick:()=>i(p.path),sx:{mx:1,borderRadius:1,"&.Mui-selected":{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark"},"& .MuiListItemIcon-root":{color:"primary.contrastText"}},"&:hover":{backgroundColor:"action.hover"}},children:[n.jsxDEV(mt,{sx:{color:a(p.path)?"inherit":"action.active"},children:p.icon},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:142,columnNumber:15},void 0),n.jsxDEV(nt,{primary:p.text,primaryTypographyProps:{fontSize:"0.875rem",fontWeight:a(p.path)?500:400}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:149,columnNumber:15},void 0),p.badge&&n.jsxDEV(ft,{label:p.badge,size:"small",color:p.badge==="New"?"error":"warning",sx:{height:20,fontSize:"0.6875rem",fontWeight:500}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:157,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:121,columnNumber:13},void 0)},p.text,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:120,columnNumber:11},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:116,columnNumber:5},void 0),E=n.jsxDEV(P,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[n.jsxDEV(Rr,{children:n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsxDEV(Be,{color:"primary",sx:{fontSize:32}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:179,columnNumber:11},void 0),n.jsxDEV(P,{children:[n.jsxDEV(A,{variant:"h6",component:"div",sx:{fontWeight:600},children:"ThreatModel"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:181,columnNumber:13},void 0),n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"Enterprise Security"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:184,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:180,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:178,columnNumber:9},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:177,columnNumber:7},void 0),n.jsxDEV(Qe,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:191,columnNumber:7},void 0),n.jsxDEV(P,{sx:{flexGrow:1,py:1},children:[f(cd),ls.some(m)&&n.jsxDEV(n.Fragment,{children:[n.jsxDEV(Qe,{sx:{my:1,mx:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:200,columnNumber:13},void 0),n.jsxDEV(A,{variant:"overline",sx:{px:2,py:1,color:"text.secondary",fontSize:"0.75rem",fontWeight:600,letterSpacing:1},children:"Administration"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:201,columnNumber:13},void 0),f(ls)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:199,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:194,columnNumber:7},void 0),n.jsxDEV(P,{children:[n.jsxDEV(Qe,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:221,columnNumber:9},void 0),f(ud),n.jsxDEV(P,{sx:{p:2,bgcolor:"background.default"},children:[n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"Logged in as"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:226,columnNumber:11},void 0),n.jsxDEV(A,{variant:"body2",sx:{fontWeight:500},children:s==null?void 0:s.email},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:229,columnNumber:11},void 0),n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:s==null?void 0:s.organization},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:232,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:225,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:220,columnNumber:7},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:176,columnNumber:5},void 0);return n.jsxDEV(yn,{variant:"persistent",anchor:"left",open:t,sx:{width:e,flexShrink:0,"& .MuiDrawer-paper":{width:e,boxSizing:"border-box",borderRight:"1px solid",borderColor:"divider"}},children:E},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Sidebar.tsx",lineNumber:241,columnNumber:5},void 0)},fd=ae.forwardRef(function(t,r){return n.jsxDEV(Zi,{...t,direction:"up",ref:r},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Notifications/NotificationContainer.tsx",lineNumber:10,columnNumber:12},this)}),pd=()=>{const e=Dr(),t=ht(o=>o.ui.notifications),r=o=>{e(os(o))};return R.useEffect(()=>{const o=[];return t.forEach(s=>{if(s.duration&&s.duration>0){const i=setTimeout(()=>{e(os(s.id))},s.duration);o.push(i)}}),()=>{o.forEach(s=>clearTimeout(s))}},[t,e]),n.jsxDEV(n.Fragment,{children:t.map((o,s)=>n.jsxDEV(ho,{open:!0,onClose:()=>r(o.id),TransitionComponent:fd,anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{position:"fixed",bottom:16+s*80,right:16,zIndex:i=>i.zIndex.snackbar+s},children:n.jsxDEV(er,{onClose:()=>r(o.id),severity:o.type,variant:"filled",sx:{minWidth:300,maxWidth:500,boxShadow:3},children:[o.title&&n.jsxDEV(ea,{children:o.title},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Notifications/NotificationContainer.tsx",lineNumber:67,columnNumber:15},void 0),o.message]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Notifications/NotificationContainer.tsx",lineNumber:56,columnNumber:11},void 0)},o.id,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Notifications/NotificationContainer.tsx",lineNumber:43,columnNumber:9},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Notifications/NotificationContainer.tsx",lineNumber:41,columnNumber:5},void 0)},tn=280,hd=({children:e})=>{const t=ht(r=>r.ui.sidebarOpen);return n.jsxDEV(P,{sx:{display:"flex"},children:[n.jsxDEV(Bs,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Layout.tsx",lineNumber:23,columnNumber:7},void 0),n.jsxDEV(dd,{drawerWidth:tn,sidebarOpen:t},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Layout.tsx",lineNumber:25,columnNumber:7},void 0),n.jsxDEV(md,{drawerWidth:tn,open:t},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Layout.tsx",lineNumber:30,columnNumber:7},void 0),n.jsxDEV(P,{component:"main",sx:{flexGrow:1,p:3,width:{sm:`calc(100% - ${t?tn:0}px)`},ml:{sm:t?`${tn}px`:0},transition:r=>r.transitions.create(["margin","width"],{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.enteringScreen})},children:[n.jsxDEV(Rr,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Layout.tsx",lineNumber:49,columnNumber:9},void 0),e,n.jsxDEV(pd,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Layout.tsx",lineNumber:53,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Layout.tsx",lineNumber:35,columnNumber:7},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/Layout/Layout.tsx",lineNumber:22,columnNumber:5},void 0)},bd=({children:e,roles:t=[]})=>{const r=Dr(),o=fo(),{isAuthenticated:s,user:i,isLoading:a,isInitialized:m}=ht(f=>f.auth);return R.useEffect(()=>{m||r(cn())},[r,m]),!m||a?n.jsxDEV(P,{className:"flex-center full-height",sx:{flexDirection:"column",gap:2},children:[n.jsxDEV(sr,{size:40},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ProtectedRoute.tsx",lineNumber:35,columnNumber:9},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:"Initializing..."},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ProtectedRoute.tsx",lineNumber:36,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ProtectedRoute.tsx",lineNumber:31,columnNumber:7},void 0):s?t.length>0&&i&&!t.includes(i.role)?n.jsxDEV(P,{className:"flex-center full-height",children:n.jsxDEV(P,{sx:{textAlign:"center",maxWidth:400},children:[n.jsxDEV(A,{variant:"h5",gutterBottom:!0,children:"Access Denied"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ProtectedRoute.tsx",lineNumber:55,columnNumber:13},void 0),n.jsxDEV(A,{variant:"body1",color:"text.secondary",children:"You don't have permission to access this page."},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ProtectedRoute.tsx",lineNumber:58,columnNumber:13},void 0),n.jsxDEV(A,{variant:"body2",sx:{mt:2},children:["Required roles: ",t.join(", ")]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ProtectedRoute.tsx",lineNumber:61,columnNumber:13},void 0),n.jsxDEV(A,{variant:"body2",children:["Your role: ",i.role]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ProtectedRoute.tsx",lineNumber:64,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ProtectedRoute.tsx",lineNumber:54,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ProtectedRoute.tsx",lineNumber:53,columnNumber:9},void 0):n.jsxDEV(n.Fragment,{children:e},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ProtectedRoute.tsx",lineNumber:73,columnNumber:10},void 0):n.jsxDEV(Fi,{to:"/login",state:{from:o},replace:!0},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ProtectedRoute.tsx",lineNumber:45,columnNumber:12},void 0)},rn={totalProjects:12,activeThreatModels:8,criticalVulnerabilities:3,resolvedThreats:24},ds=[{id:1,type:"threat_model_created",title:"New threat model created",description:"Payment Gateway Security Model",timestamp:"2 hours ago",icon:n.jsxDEV(Be,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:48,columnNumber:11},void 0),color:"primary"},{id:2,type:"vulnerability_found",title:"Critical vulnerability identified",description:"SQL Injection in user authentication",timestamp:"4 hours ago",icon:n.jsxDEV(po,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:57,columnNumber:11},void 0),color:"error"},{id:3,type:"threat_resolved",title:"Threat resolved",description:"XSS vulnerability in dashboard",timestamp:"1 day ago",icon:n.jsxDEV(bo,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:66,columnNumber:11},void 0),color:"success"}],gd=[{id:1,name:"E-commerce Platform",threatModels:3,riskLevel:"High",progress:75,lastUpdated:"2 days ago"},{id:2,name:"Payment Gateway",threatModels:2,riskLevel:"Medium",progress:60,lastUpdated:"1 week ago"},{id:3,name:"Mobile Application",threatModels:1,riskLevel:"Low",progress:30,lastUpdated:"3 days ago"}],Nd=()=>{const{user:e}=ht(p=>p.auth),t=vr(),[r,o]=R.useState({open:!1,message:"",severity:"info"}),s=p=>{switch(p.toLowerCase()){case"high":return"error";case"medium":return"warning";case"low":return"success";default:return"default"}},i=()=>{const p=new Date().getHours();return p<12?"Good morning":p<17?"Good afternoon":"Good evening"},a=()=>{t("/projects"),o({open:!0,message:"Navigating to Projects page to create a new project",severity:"info"})},m=()=>{t("/threat-models"),o({open:!0,message:"Navigating to Threat Models page",severity:"info"})},f=()=>{o({open:!0,message:"Risk Assessment feature coming soon (Beta)",severity:"info"})},E=()=>{o({open:!0,message:"Issue reporting feature coming soon",severity:"info"})},b=()=>{o(p=>({...p,open:!1}))};return n.jsxDEV(P,{children:[n.jsxDEV(P,{sx:{mb:4},children:[n.jsxDEV(A,{variant:"h4",gutterBottom:!0,children:[i(),", ",e==null?void 0:e.firstName,"!"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:169,columnNumber:9},void 0),n.jsxDEV(A,{variant:"body1",color:"text.secondary",children:"Here's an overview of your security landscape"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:172,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:168,columnNumber:7},void 0),n.jsxDEV(fe,{container:!0,spacing:3,sx:{mb:4},children:[n.jsxDEV(fe,{item:!0,xs:12,sm:6,md:3,children:n.jsxDEV(Ye,{children:n.jsxDEV(Ke,{children:[n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[n.jsxDEV(Nt,{sx:{bgcolor:"primary.main",mr:2},children:n.jsxDEV(Fs,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:184,columnNumber:19},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:183,columnNumber:17},void 0),n.jsxDEV(P,{children:[n.jsxDEV(A,{variant:"h4",children:rn.totalProjects},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:187,columnNumber:19},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:"Total Projects"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:188,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:186,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:182,columnNumber:15},void 0),n.jsxDEV(P,{sx:{display:"flex",alignItems:"center"},children:[n.jsxDEV(Fn,{color:"success",sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:194,columnNumber:17},void 0),n.jsxDEV(A,{variant:"body2",color:"success.main",children:"+2 this month"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:195,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:193,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:181,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:180,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:179,columnNumber:9},void 0),n.jsxDEV(fe,{item:!0,xs:12,sm:6,md:3,children:n.jsxDEV(Ye,{children:n.jsxDEV(Ke,{children:[n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[n.jsxDEV(Nt,{sx:{bgcolor:"secondary.main",mr:2},children:n.jsxDEV(Be,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:208,columnNumber:19},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:207,columnNumber:17},void 0),n.jsxDEV(P,{children:[n.jsxDEV(A,{variant:"h4",children:rn.activeThreatModels},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:211,columnNumber:19},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:"Active Threat Models"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:212,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:210,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:206,columnNumber:15},void 0),n.jsxDEV(P,{sx:{display:"flex",alignItems:"center"},children:[n.jsxDEV(Fn,{color:"success",sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:218,columnNumber:17},void 0),n.jsxDEV(A,{variant:"body2",color:"success.main",children:"+1 this week"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:219,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:217,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:205,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:204,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:203,columnNumber:9},void 0),n.jsxDEV(fe,{item:!0,xs:12,sm:6,md:3,children:n.jsxDEV(Ye,{children:n.jsxDEV(Ke,{children:[n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[n.jsxDEV(Nt,{sx:{bgcolor:"error.main",mr:2},children:n.jsxDEV(En,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:232,columnNumber:19},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:231,columnNumber:17},void 0),n.jsxDEV(P,{children:[n.jsxDEV(A,{variant:"h4",children:rn.criticalVulnerabilities},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:235,columnNumber:19},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:"Critical Vulnerabilities"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:236,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:234,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:230,columnNumber:15},void 0),n.jsxDEV(P,{sx:{display:"flex",alignItems:"center"},children:n.jsxDEV(A,{variant:"body2",color:"error.main",children:"Requires immediate attention"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:242,columnNumber:17},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:241,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:229,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:228,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:227,columnNumber:9},void 0),n.jsxDEV(fe,{item:!0,xs:12,sm:6,md:3,children:n.jsxDEV(Ye,{children:n.jsxDEV(Ke,{children:[n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[n.jsxDEV(Nt,{sx:{bgcolor:"success.main",mr:2},children:n.jsxDEV(bo,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:255,columnNumber:19},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:254,columnNumber:17},void 0),n.jsxDEV(P,{children:[n.jsxDEV(A,{variant:"h4",children:rn.resolvedThreats},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:258,columnNumber:19},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:"Resolved Threats"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:259,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:257,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:253,columnNumber:15},void 0),n.jsxDEV(P,{sx:{display:"flex",alignItems:"center"},children:[n.jsxDEV(Fn,{color:"success",sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:265,columnNumber:17},void 0),n.jsxDEV(A,{variant:"body2",color:"success.main",children:"+5 this month"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:266,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:264,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:252,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:251,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:250,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:178,columnNumber:7},void 0),n.jsxDEV(fe,{container:!0,spacing:3,children:[n.jsxDEV(fe,{item:!0,xs:12,md:6,children:n.jsxDEV(Ye,{children:n.jsxDEV(Ke,{children:[n.jsxDEV(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[n.jsxDEV(A,{variant:"h6",children:"Recent Activity"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:281,columnNumber:17},void 0),n.jsxDEV(he,{size:"small",children:"View All"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:282,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:280,columnNumber:15},void 0),n.jsxDEV(Ur,{disablePadding:!0,children:ds.map((p,x)=>n.jsxDEV(ae.Fragment,{children:[n.jsxDEV(zr,{disablePadding:!0,sx:{py:1},children:[n.jsxDEV(ta,{children:n.jsxDEV(Nt,{sx:{bgcolor:`${p.color}.main`,width:40,height:40},children:p.icon},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:290,columnNumber:25},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:289,columnNumber:23},void 0),n.jsxDEV(nt,{primary:p.title,secondary:n.jsxDEV(P,{component:"span",children:[p.description,n.jsxDEV(P,{component:"span",display:"block",children:n.jsxDEV(A,{component:"span",variant:"caption",color:"text.disabled",children:p.timestamp},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:306,columnNumber:31},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:305,columnNumber:29},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:303,columnNumber:27},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:300,columnNumber:23},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:288,columnNumber:21},void 0),x<ds.length-1&&n.jsxDEV(Qe,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:314,columnNumber:63},void 0)]},p.id,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:287,columnNumber:19},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:285,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:279,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:278,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:277,columnNumber:9},void 0),n.jsxDEV(fe,{item:!0,xs:12,md:6,children:[n.jsxDEV(Ye,{sx:{mb:3},children:n.jsxDEV(Ke,{children:[n.jsxDEV(A,{variant:"h6",gutterBottom:!0,children:"Quick Actions"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:327,columnNumber:15},void 0),n.jsxDEV(fe,{container:!0,spacing:2,children:[n.jsxDEV(fe,{item:!0,xs:6,children:n.jsxDEV(he,{fullWidth:!0,variant:"outlined",startIcon:n.jsxDEV(Kt,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:335,columnNumber:32},void 0),sx:{py:1.5},onClick:a,children:"New Project"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:332,columnNumber:19},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:331,columnNumber:17},void 0),n.jsxDEV(fe,{item:!0,xs:6,children:n.jsxDEV(he,{fullWidth:!0,variant:"outlined",startIcon:n.jsxDEV(Be,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:346,columnNumber:32},void 0),sx:{py:1.5},onClick:m,children:"Threat Model"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:343,columnNumber:19},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:342,columnNumber:17},void 0),n.jsxDEV(fe,{item:!0,xs:6,children:n.jsxDEV(he,{fullWidth:!0,variant:"outlined",startIcon:n.jsxDEV(Os,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:357,columnNumber:32},void 0),sx:{py:1.5},onClick:f,children:"Risk Assessment"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:354,columnNumber:19},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:353,columnNumber:17},void 0),n.jsxDEV(fe,{item:!0,xs:6,children:n.jsxDEV(he,{fullWidth:!0,variant:"outlined",startIcon:n.jsxDEV(po,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:368,columnNumber:32},void 0),sx:{py:1.5},onClick:E,children:"Report Issue"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:365,columnNumber:19},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:364,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:330,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:326,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:325,columnNumber:11},void 0),n.jsxDEV(Ye,{children:n.jsxDEV(Ke,{children:[n.jsxDEV(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[n.jsxDEV(A,{variant:"h6",children:"Recent Projects"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:383,columnNumber:17},void 0),n.jsxDEV(he,{size:"small",children:"View All"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:384,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:382,columnNumber:15},void 0),gd.map(p=>n.jsxDEV(Dn,{sx:{p:2,mb:2,border:"1px solid",borderColor:"divider","&:last-child":{mb:0}},children:[n.jsxDEV(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[n.jsxDEV(A,{variant:"subtitle1",fontWeight:500,children:p.name},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:399,columnNumber:21},void 0),n.jsxDEV(ft,{label:p.riskLevel,size:"small",color:s(p.riskLevel)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:402,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:398,columnNumber:19},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[p.threatModels," threat models  Updated ",p.lastUpdated]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:409,columnNumber:19},void 0),n.jsxDEV(P,{sx:{mt:2},children:[n.jsxDEV(P,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[n.jsxDEV(A,{variant:"body2",children:"Progress"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:415,columnNumber:23},void 0),n.jsxDEV(A,{variant:"body2",children:[p.progress,"%"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:416,columnNumber:23},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:414,columnNumber:21},void 0),n.jsxDEV(Us,{variant:"determinate",value:p.progress,sx:{height:6,borderRadius:3}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:418,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:413,columnNumber:19},void 0)]},p.id,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:388,columnNumber:17},void 0))]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:381,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:380,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:323,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:275,columnNumber:7},void 0),n.jsxDEV(ho,{open:r.open,autoHideDuration:3e3,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:n.jsxDEV(er,{onClose:b,severity:r.severity,sx:{width:"100%"},children:r.message},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:438,columnNumber:9},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:432,columnNumber:7},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Dashboard.tsx",lineNumber:166,columnNumber:5},void 0)},xd=()=>{const e=vr(),t=Eo(),[r,o]=R.useState(null),[s,i]=R.useState(null),[a,m]=R.useState(""),[f,E]=R.useState({open:!1,name:"",description:"",riskLevel:"Medium"}),[b,p]=R.useState({open:!1,name:"",description:"",riskLevel:"Medium"}),[x,C]=R.useState(!1),[D,g]=R.useState({open:!1,message:"",severity:"info"}),{data:N=[],isLoading:L,error:y}=Il({queryKey:["projects"],queryFn:async()=>(await en.getProjects()).data||[],retry:1}),q=Wn({mutationFn:w=>en.createProject(w),onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),g({open:!0,message:"Project created successfully!",severity:"success"}),E({open:!1,name:"",description:"",riskLevel:"Medium"})},onError:w=>{var te,be;g({open:!0,message:((be=(te=w.response)==null?void 0:te.data)==null?void 0:be.message)||"Failed to create project",severity:"error"})}}),Q=Wn({mutationFn:({id:w,data:te})=>en.updateProject(w,te),onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),g({open:!0,message:"Project updated successfully!",severity:"success"}),p({open:!1,name:"",description:"",riskLevel:"Medium"})},onError:w=>{var te,be;g({open:!0,message:((be=(te=w.response)==null?void 0:te.data)==null?void 0:be.message)||"Failed to update project",severity:"error"})}}),z=Wn({mutationFn:w=>en.deleteProject(w),onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),g({open:!0,message:"Project deleted successfully!",severity:"success"}),C(!1),i(null)},onError:w=>{var te,be;g({open:!0,message:((be=(te=w.response)==null?void 0:te.data)==null?void 0:be.message)||"Failed to delete project",severity:"error"})}}),T=(w,te)=>{o(w.currentTarget),i(te)},re=()=>{o(null),i(null)},M=()=>{q.mutate({name:f.name,description:f.description,riskLevel:f.riskLevel,status:"Active",progress:0,threatModels:0,collaborators:1})},W=w=>{const te=N.find(be=>be.id===w);te&&p({open:!0,id:te.id,name:te.name,description:te.description,riskLevel:te.riskLevel}),re()},G=()=>{b.id&&Q.mutate({id:b.id,data:{name:b.name,description:b.description,riskLevel:b.riskLevel}})},u=()=>{s&&z.mutate(s)},j=w=>{e(`/projects/${w.id}`)},V=w=>{e("/threat-models",{state:{projectId:w.id}})},F=()=>{g(w=>({...w,open:!1}))},Y=w=>{switch(w.toLowerCase()){case"high":return"error";case"medium":return"warning";case"low":return"success";default:return"default"}},X=w=>{switch(w.toLowerCase()){case"active":return"success";case"in review":return"warning";case"completed":return"info";case"archived":return"default";default:return"default"}},J=N.filter(w=>w.name.toLowerCase().includes(a.toLowerCase())||w.description.toLowerCase().includes(a.toLowerCase())),ne=w=>{const te=new Date(w),Ue=new Date().getTime()-te.getTime(),Se=Math.floor(Ue/(1e3*60*60*24));return Se===0?"Today":Se===1?"Yesterday":Se<7?`${Se} days ago`:Se<30?`${Math.floor(Se/7)} weeks ago`:`${Math.floor(Se/30)} months ago`};return y?n.jsxDEV(P,{sx:{textAlign:"center",py:8},children:[n.jsxDEV(A,{variant:"h6",color:"error",gutterBottom:!0,children:"Failed to load projects"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:278,columnNumber:9},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:y.message},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:281,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:277,columnNumber:7},void 0):n.jsxDEV(P,{children:[n.jsxDEV(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[n.jsxDEV(P,{children:[n.jsxDEV(A,{variant:"h4",gutterBottom:!0,children:"Projects"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:293,columnNumber:11},void 0),n.jsxDEV(A,{variant:"body1",color:"text.secondary",children:"Manage your threat modeling projects and security assessments"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:296,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:292,columnNumber:9},void 0),n.jsxDEV(he,{variant:"contained",startIcon:n.jsxDEV(Kt,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:302,columnNumber:22},void 0),size:"large",onClick:()=>E({...f,open:!0}),children:"New Project"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:300,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:291,columnNumber:7},void 0),n.jsxDEV(P,{sx:{display:"flex",gap:2,mb:4},children:[n.jsxDEV(xe,{placeholder:"Search projects...",value:a,onChange:w=>m(w.target.value),InputProps:{startAdornment:n.jsxDEV(ir,{position:"start",children:n.jsxDEV(go,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:319,columnNumber:17},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:318,columnNumber:15},void 0)},sx:{flexGrow:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:312,columnNumber:9},void 0),n.jsxDEV(he,{variant:"outlined",startIcon:n.jsxDEV(zs,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:327,columnNumber:22},void 0),children:"Filter"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:325,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:311,columnNumber:7},void 0),L?n.jsxDEV(fe,{container:!0,spacing:3,children:[1,2,3,4].map(w=>n.jsxDEV(fe,{item:!0,xs:12,md:6,lg:4,children:n.jsxDEV(Ye,{children:n.jsxDEV(Ke,{children:n.jsxDEV(ra,{variant:"rectangular",height:200},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:340,columnNumber:19},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:339,columnNumber:17},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:338,columnNumber:15},void 0)},w,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:337,columnNumber:13},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:335,columnNumber:9},void 0):n.jsxDEV(fe,{container:!0,spacing:3,children:J.map(w=>n.jsxDEV(fe,{item:!0,xs:12,md:6,lg:4,children:n.jsxDEV(Ye,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:4}},children:[n.jsxDEV(Ke,{sx:{flexGrow:1},children:[n.jsxDEV(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[n.jsxDEV(P,{sx:{display:"flex",gap:1},children:[n.jsxDEV(ft,{label:w.riskLevel,size:"small",color:Y(w.riskLevel)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:365,columnNumber:23},void 0),n.jsxDEV(ft,{label:w.status,size:"small",color:X(w.status),variant:"outlined"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:370,columnNumber:23},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:364,columnNumber:21},void 0),n.jsxDEV(Ve,{size:"small",onClick:te=>T(te,w.id),children:n.jsxDEV(Ws,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:381,columnNumber:23},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:377,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:363,columnNumber:19},void 0),n.jsxDEV(A,{variant:"h6",gutterBottom:!0,children:w.name},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:385,columnNumber:19},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:w.description},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:389,columnNumber:19},void 0),n.jsxDEV(P,{sx:{display:"flex",gap:3,mb:3},children:[n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsxDEV(Be,{fontSize:"small",color:"action"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:395,columnNumber:23},void 0),n.jsxDEV(A,{variant:"body2",children:[w.threatModels||0," models"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:396,columnNumber:23},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:394,columnNumber:21},void 0),n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsxDEV(Is,{fontSize:"small",color:"action"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:401,columnNumber:23},void 0),n.jsxDEV(A,{variant:"body2",children:[w.collaborators||1," people"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:402,columnNumber:23},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:400,columnNumber:21},void 0),n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsxDEV(qs,{fontSize:"small",color:"action"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:407,columnNumber:23},void 0),n.jsxDEV(A,{variant:"body2",children:ne(w.updatedAt)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:408,columnNumber:23},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:406,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:393,columnNumber:19},void 0),w.progress!==void 0&&n.jsxDEV(P,{sx:{mb:2},children:[n.jsxDEV(P,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:"Progress"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:417,columnNumber:25},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:[w.progress,"%"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:420,columnNumber:25},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:416,columnNumber:23},void 0),n.jsxDEV(Us,{variant:"determinate",value:w.progress,sx:{height:6,borderRadius:3}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:424,columnNumber:23},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:415,columnNumber:21},void 0),n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsxDEV(Nt,{sx:{width:24,height:24,fontSize:"0.75rem"},children:w.owner?w.owner.split(" ").map(te=>te[0]).join(""):"U"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:433,columnNumber:21},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:w.owner||"Unknown"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:436,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:432,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:362,columnNumber:17},void 0),n.jsxDEV(na,{children:[n.jsxDEV(he,{size:"small",startIcon:n.jsxDEV(Hs,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:445,columnNumber:32},void 0),onClick:()=>j(w),children:"View Details"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:443,columnNumber:19},void 0),n.jsxDEV(he,{size:"small",startIcon:n.jsxDEV(oa,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:452,columnNumber:32},void 0),onClick:()=>V(w),children:"Open"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:450,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:442,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:350,columnNumber:15},void 0)},w.id,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:349,columnNumber:13},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:347,columnNumber:9},void 0),!L&&J.length===0&&n.jsxDEV(P,{sx:{textAlign:"center",py:8},children:[n.jsxDEV(Be,{sx:{fontSize:64,color:"text.secondary",mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:467,columnNumber:11},void 0),n.jsxDEV(A,{variant:"h6",gutterBottom:!0,children:a?"No projects found":"No projects yet"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:468,columnNumber:11},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:a?"Try adjusting your search terms":"Create your first project to start threat modeling"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:471,columnNumber:11},void 0),!a&&n.jsxDEV(he,{variant:"contained",startIcon:n.jsxDEV(Kt,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:480,columnNumber:26},void 0),onClick:()=>E({...f,open:!0}),children:"Create Project"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:478,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:466,columnNumber:9},void 0),n.jsxDEV(Qs,{color:"primary","aria-label":"add project",onClick:()=>E({...f,open:!0}),sx:{position:"fixed",bottom:24,right:24},children:n.jsxDEV(Kt,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:500,columnNumber:9},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:490,columnNumber:7},void 0),n.jsxDEV(jn,{anchorEl:r,open:!!r,onClose:re,children:[n.jsxDEV(Z,{onClick:()=>s&&W(s),children:[n.jsxDEV(mn,{sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:510,columnNumber:11},void 0),"Edit"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:509,columnNumber:9},void 0),n.jsxDEV(Z,{onClick:()=>{if(s){const w=N.find(te=>te.id===s);w&&V(w)}},children:[n.jsxDEV(Be,{sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:519,columnNumber:11},void 0),"View Threat Models"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:513,columnNumber:9},void 0),n.jsxDEV(Z,{onClick:()=>{C(!0),re()},sx:{color:"error.main"},children:[n.jsxDEV(Lr,{sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:529,columnNumber:11},void 0),"Delete"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:522,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:504,columnNumber:7},void 0),n.jsxDEV(nn,{open:f.open,onClose:()=>E({...f,open:!1}),children:[n.jsxDEV(on,{children:"Create New Project"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:536,columnNumber:9},void 0),n.jsxDEV(sn,{children:[n.jsxDEV(xe,{autoFocus:!0,margin:"dense",label:"Project Name",fullWidth:!0,variant:"outlined",value:f.name,onChange:w=>E({...f,name:w.target.value}),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:538,columnNumber:11},void 0),n.jsxDEV(xe,{margin:"dense",label:"Description",fullWidth:!0,multiline:!0,rows:4,variant:"outlined",value:f.description,onChange:w=>E({...f,description:w.target.value}),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:548,columnNumber:11},void 0),n.jsxDEV(xe,{select:!0,margin:"dense",label:"Risk Level",fullWidth:!0,variant:"outlined",value:f.riskLevel,onChange:w=>E({...f,riskLevel:w.target.value}),children:[n.jsxDEV(Z,{value:"Low",children:"Low"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:568,columnNumber:13},void 0),n.jsxDEV(Z,{value:"Medium",children:"Medium"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:569,columnNumber:13},void 0),n.jsxDEV(Z,{value:"High",children:"High"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:570,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:559,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:537,columnNumber:9},void 0),n.jsxDEV(an,{children:[n.jsxDEV(he,{onClick:()=>E({...f,open:!1}),children:"Cancel"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:574,columnNumber:11},void 0),n.jsxDEV(he,{onClick:M,variant:"contained",disabled:!f.name||q.isPending,children:q.isPending?n.jsxDEV(sr,{size:20},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:580,columnNumber:48},void 0):"Create"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:575,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:573,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:535,columnNumber:7},void 0),n.jsxDEV(nn,{open:b.open,onClose:()=>p({...b,open:!1}),children:[n.jsxDEV(on,{children:"Edit Project"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:587,columnNumber:9},void 0),n.jsxDEV(sn,{children:[n.jsxDEV(xe,{autoFocus:!0,margin:"dense",label:"Project Name",fullWidth:!0,variant:"outlined",value:b.name,onChange:w=>p({...b,name:w.target.value}),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:589,columnNumber:11},void 0),n.jsxDEV(xe,{margin:"dense",label:"Description",fullWidth:!0,multiline:!0,rows:4,variant:"outlined",value:b.description,onChange:w=>p({...b,description:w.target.value}),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:599,columnNumber:11},void 0),n.jsxDEV(xe,{select:!0,margin:"dense",label:"Risk Level",fullWidth:!0,variant:"outlined",value:b.riskLevel,onChange:w=>p({...b,riskLevel:w.target.value}),children:[n.jsxDEV(Z,{value:"Low",children:"Low"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:619,columnNumber:13},void 0),n.jsxDEV(Z,{value:"Medium",children:"Medium"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:620,columnNumber:13},void 0),n.jsxDEV(Z,{value:"High",children:"High"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:621,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:610,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:588,columnNumber:9},void 0),n.jsxDEV(an,{children:[n.jsxDEV(he,{onClick:()=>p({...b,open:!1}),children:"Cancel"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:625,columnNumber:11},void 0),n.jsxDEV(he,{onClick:G,variant:"contained",disabled:!b.name||Q.isPending,children:Q.isPending?n.jsxDEV(sr,{size:20},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:631,columnNumber:48},void 0):"Update"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:626,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:624,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:586,columnNumber:7},void 0),n.jsxDEV(nn,{open:x,onClose:()=>C(!1),children:[n.jsxDEV(on,{children:"Delete Project"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:638,columnNumber:9},void 0),n.jsxDEV(sn,{children:n.jsxDEV(A,{children:"Are you sure you want to delete this project? This action cannot be undone."},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:640,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:639,columnNumber:9},void 0),n.jsxDEV(an,{children:[n.jsxDEV(he,{onClick:()=>C(!1),children:"Cancel"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:645,columnNumber:11},void 0),n.jsxDEV(he,{onClick:u,color:"error",variant:"contained",disabled:z.isPending,children:z.isPending?n.jsxDEV(sr,{size:20},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:652,columnNumber:48},void 0):"Delete"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:646,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:644,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:637,columnNumber:7},void 0),n.jsxDEV(ho,{open:D.open,autoHideDuration:4e3,onClose:F,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:n.jsxDEV(er,{onClose:F,severity:D.severity,sx:{width:"100%"},children:D.message},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:664,columnNumber:9},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:658,columnNumber:7},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Projects.tsx",lineNumber:289,columnNumber:5},void 0)},vd=[{id:"1",name:"Payment Processing Security",methodology:"STRIDE",project:"E-commerce Platform",status:"In Review",threats:12,mitigations:8,riskLevel:"High",lastModified:"2 hours ago",createdBy:"John Smith",collaborators:["JS","SJ","MW"],completionRate:75},{id:"2",name:"User Authentication Flow",methodology:"LINDDUN",project:"Mobile Banking App",status:"Published",threats:8,mitigations:7,riskLevel:"Medium",lastModified:"1 day ago",createdBy:"Sarah Johnson",collaborators:["SJ","ED"],completionRate:95},{id:"3",name:"Data Storage Security",methodology:"PASTA",project:"HR Management System",status:"Draft",threats:15,mitigations:5,riskLevel:"High",lastModified:"3 days ago",createdBy:"Mike Wilson",collaborators:["MW","AC","JS"],completionRate:40},{id:"4",name:"API Gateway Security",methodology:"VAST",project:"Microservices Architecture",status:"Approved",threats:6,mitigations:6,riskLevel:"Low",lastModified:"1 week ago",createdBy:"Emily Davis",collaborators:["ED","MW"],completionRate:100}],jd={STRIDE:"primary",PASTA:"secondary",LINDDUN:"success",VAST:"warning",DREAD:"error"},yd=()=>{const e=vr(),[t,r]=R.useState(null),[o,s]=R.useState(null),[i,a]=R.useState(""),[m,f]=R.useState(0),E=(N,L)=>{r(N.currentTarget),s(L)},b=()=>{r(null),s(null)},p=(N,L)=>{f(L)},x=N=>{switch(N.toLowerCase()){case"high":return"error";case"medium":return"warning";case"low":return"success";default:return"default"}},C=N=>{switch(N.toLowerCase()){case"draft":return"default";case"in review":return"warning";case"approved":return"info";case"published":return"success";default:return"default"}},D=N=>{switch(N.toLowerCase()){case"draft":return n.jsxDEV(mn,{fontSize:"small"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:162,columnNumber:28},void 0);case"in review":return n.jsxDEV(qs,{fontSize:"small"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:163,columnNumber:32},void 0);case"approved":return n.jsxDEV(bo,{fontSize:"small"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:164,columnNumber:31},void 0);case"published":return n.jsxDEV(Be,{fontSize:"small"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:165,columnNumber:32},void 0);default:return n.jsxDEV(Be,{fontSize:"small"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:166,columnNumber:23},void 0)}},g=vd.filter(N=>{const L=N.name.toLowerCase().includes(i.toLowerCase())||N.project.toLowerCase().includes(i.toLowerCase());return m===0?L:m===1?L&&N.status==="Draft":m===2?L&&N.status==="In Review":m===3?L&&(N.status==="Approved"||N.status==="Published"):L});return n.jsxDEV(P,{children:[n.jsxDEV(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[n.jsxDEV(P,{children:[n.jsxDEV(A,{variant:"h4",gutterBottom:!0,children:"Threat Models"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:187,columnNumber:11},void 0),n.jsxDEV(A,{variant:"body1",color:"text.secondary",children:"Create and manage security threat models using various methodologies"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:190,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:186,columnNumber:9},void 0),n.jsxDEV(he,{variant:"contained",startIcon:n.jsxDEV(Kt,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:196,columnNumber:22},void 0),size:"large",children:"New Threat Model"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:194,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:185,columnNumber:7},void 0),n.jsxDEV(Dn,{sx:{mb:4},children:[n.jsxDEV(P,{sx:{borderBottom:1,borderColor:"divider"},children:n.jsxDEV($s,{value:m,onChange:p,children:[n.jsxDEV(Bt,{label:"All Models"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:207,columnNumber:13},void 0),n.jsxDEV(Bt,{label:"Draft"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:208,columnNumber:13},void 0),n.jsxDEV(Bt,{label:"In Review"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:209,columnNumber:13},void 0),n.jsxDEV(Bt,{label:"Published"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:210,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:206,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:205,columnNumber:9},void 0),n.jsxDEV(P,{sx:{p:3,display:"flex",gap:2},children:[n.jsxDEV(xe,{placeholder:"Search threat models...",value:i,onChange:N=>a(N.target.value),InputProps:{startAdornment:n.jsxDEV(ir,{position:"start",children:n.jsxDEV(go,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:222,columnNumber:19},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:221,columnNumber:17},void 0)},sx:{flexGrow:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:215,columnNumber:11},void 0),n.jsxDEV(he,{variant:"outlined",startIcon:n.jsxDEV(zs,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:230,columnNumber:24},void 0),children:"Filter"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:228,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:214,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:204,columnNumber:7},void 0),n.jsxDEV(fe,{container:!0,spacing:3,children:g.map(N=>n.jsxDEV(fe,{item:!0,xs:12,lg:6,children:n.jsxDEV(Ye,{sx:{height:"100%",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:3}},children:n.jsxDEV(Ke,{children:[n.jsxDEV(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"start",mb:2},children:[n.jsxDEV(P,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[n.jsxDEV(ft,{label:N.methodology,size:"small",color:jd[N.methodology],variant:"outlined"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:254,columnNumber:21},void 0),n.jsxDEV(ft,{icon:D(N.status),label:N.status,size:"small",color:C(N.status)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:260,columnNumber:21},void 0),n.jsxDEV(ft,{label:N.riskLevel,size:"small",color:x(N.riskLevel),variant:"filled"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:266,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:253,columnNumber:19},void 0),n.jsxDEV(Ve,{size:"small",onClick:L=>E(L,N.id),children:n.jsxDEV(Ws,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:277,columnNumber:21},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:273,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:252,columnNumber:17},void 0),n.jsxDEV(A,{variant:"h6",gutterBottom:!0,children:N.name},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:281,columnNumber:17},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Project: ",N.project]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:285,columnNumber:17},void 0),n.jsxDEV(P,{sx:{display:"flex",gap:3,my:2},children:[n.jsxDEV(P,{sx:{textAlign:"center"},children:[n.jsxDEV(A,{variant:"h6",color:"error.main",children:N.threats},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:291,columnNumber:21},void 0),n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"Threats"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:294,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:290,columnNumber:19},void 0),n.jsxDEV(P,{sx:{textAlign:"center"},children:[n.jsxDEV(A,{variant:"h6",color:"success.main",children:N.mitigations},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:299,columnNumber:21},void 0),n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"Mitigations"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:302,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:298,columnNumber:19},void 0),n.jsxDEV(P,{sx:{textAlign:"center"},children:[n.jsxDEV(A,{variant:"h6",color:"primary.main",children:[N.completionRate,"%"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:307,columnNumber:21},void 0),n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"Complete"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:310,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:306,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:289,columnNumber:17},void 0),n.jsxDEV(P,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[n.jsxDEV(P,{children:[n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:["Created by ",N.createdBy]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:318,columnNumber:21},void 0),n.jsxDEV(A,{variant:"caption",color:"text.secondary",display:"block",children:["Modified ",N.lastModified]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:321,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:317,columnNumber:19},void 0),n.jsxDEV(sa,{max:3,sx:{"& .MuiAvatar-root":{width:28,height:28,fontSize:"0.75rem"}},children:N.collaborators.map((L,y)=>n.jsxDEV(Nt,{children:L},y,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:328,columnNumber:23},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:326,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:316,columnNumber:17},void 0),n.jsxDEV(P,{sx:{mt:3,display:"flex",gap:1},children:[n.jsxDEV(he,{size:"small",variant:"contained",startIcon:n.jsxDEV(Bo,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:339,columnNumber:32},void 0),onClick:()=>e(`/threat-models/${N.id}/edit`),sx:{minWidth:"auto"},children:"Edit Model"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:336,columnNumber:19},void 0),n.jsxDEV(he,{size:"small",startIcon:n.jsxDEV(Uo,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:347,columnNumber:32},void 0),sx:{minWidth:"auto"},children:"Share"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:345,columnNumber:19},void 0),n.jsxDEV(he,{size:"small",startIcon:n.jsxDEV(zo,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:354,columnNumber:32},void 0),sx:{minWidth:"auto"},children:"Export"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:352,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:335,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:251,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:241,columnNumber:13},void 0)},N.id,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:240,columnNumber:11},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:238,columnNumber:7},void 0),g.length===0&&n.jsxDEV(P,{sx:{textAlign:"center",py:8},children:[n.jsxDEV(Be,{sx:{fontSize:64,color:"text.secondary",mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:369,columnNumber:11},void 0),n.jsxDEV(A,{variant:"h6",gutterBottom:!0,children:i?"No threat models found":"No threat models yet"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:370,columnNumber:11},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:i?"Try adjusting your search terms or filters":"Create your first threat model to identify security risks"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:373,columnNumber:11},void 0),!i&&n.jsxDEV(he,{variant:"contained",startIcon:n.jsxDEV(Kt,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:380,columnNumber:52},void 0),children:"Create Threat Model"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:380,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:368,columnNumber:9},void 0),n.jsxDEV(jn,{anchorEl:t,open:!!t,onClose:b,children:[n.jsxDEV(Z,{onClick:()=>{o&&e(`/threat-models/${o}/edit`),b()},children:[n.jsxDEV(Bo,{sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:399,columnNumber:11},void 0),"Edit in Visual Editor"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:393,columnNumber:9},void 0),n.jsxDEV(Z,{onClick:b,children:[n.jsxDEV(mn,{sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:403,columnNumber:11},void 0),"Edit Properties"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:402,columnNumber:9},void 0),n.jsxDEV(Z,{onClick:b,children:[n.jsxDEV(Uo,{sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:407,columnNumber:11},void 0),"Share"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:406,columnNumber:9},void 0),n.jsxDEV(Z,{onClick:b,children:[n.jsxDEV(zo,{sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:411,columnNumber:11},void 0),"Export"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:410,columnNumber:9},void 0),n.jsxDEV(Z,{onClick:b,sx:{color:"error.main"},children:[n.jsxDEV(Lr,{sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:415,columnNumber:11},void 0),"Delete"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:414,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:388,columnNumber:7},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModels.tsx",lineNumber:183,columnNumber:5},void 0)},Ed=R.forwardRef(({nodes:e,connections:t,selectedElement:r,showGrid:o,zoom:s,pan:i,onDrop:a,onSelectElement:m,onUpdateElement:f,onConnect:E,onContextMenu:b,onPanChange:p},x)=>{const C=R.useRef(null),D=R.useRef(null),g=R.useRef({isDragging:!1,isConnecting:!1,draggedNode:null,connectionStart:null,mouseStart:{x:0,y:0},elementStart:{x:0,y:0}});R.useImperativeHandle(x,()=>C.current);const N=(u,j)=>{const V=C.current.getBoundingClientRect();return{x:(u-V.left-i.x)/s,y:(j-V.top-i.y)/s}},L=(u,j,V)=>u>=V.position.x&&u<=V.position.x+200&&j>=V.position.y&&j<=V.position.y+100,y=(u,j)=>{const V=N(u,j);for(let F=e.length-1;F>=0;F--)if(L(V.x,V.y,e[F]))return e[F];return null},q=(u,j)=>{const{x:V,y:F}=j.position,Y=200,X=100,J=8;u.fillStyle=(r==null?void 0:r.id)===j.id?"#e3f2fd":"#ffffff",u.strokeStyle=(r==null?void 0:r.id)===j.id?"#1976d2":"#bdbdbd",u.lineWidth=(r==null?void 0:r.id)===j.id?2:1,u.beginPath(),u.moveTo(V+J,F),u.lineTo(V+Y-J,F),u.quadraticCurveTo(V+Y,F,V+Y,F+J),u.lineTo(V+Y,F+X-J),u.quadraticCurveTo(V+Y,F+X,V+Y-J,F+X),u.lineTo(V+J,F+X),u.quadraticCurveTo(V,F+X,V,F+X-J),u.lineTo(V,F+J),u.quadraticCurveTo(V,F,V+J,F),u.closePath(),u.fill(),u.stroke(),u.fillStyle="#424242",u.font="32px Material Icons",u.textAlign="center",u.textBaseline="middle";const ne={user:"",process:"",database:"",external:"",api:""};u.fillText(ne[j.type]||"",V+Y/2,F+X/2-10),u.font="14px Roboto, sans-serif",u.fillStyle="#212121",u.fillText(j.data.label,V+Y/2,F+X-20),(r==null?void 0:r.id)===j.id&&(u.fillStyle="#1976d2",u.beginPath(),u.arc(V+Y/2,F,6,0,2*Math.PI),u.arc(V+Y,F+X/2,6,0,2*Math.PI),u.arc(V+Y/2,F+X,6,0,2*Math.PI),u.arc(V,F+X/2,6,0,2*Math.PI),u.fill())},Q=(u,j)=>{const V=e.find(Ue=>Ue.id===j.source),F=e.find(Ue=>Ue.id===j.target);if(!V||!F)return;const Y=V.position.x+200,X=V.position.y+50,J=F.position.x,ne=F.position.y+50;u.strokeStyle=(r==null?void 0:r.id)===j.id?"#1976d2":"#757575",u.lineWidth=(r==null?void 0:r.id)===j.id?2:1,u.setLineDash(j.type==="trust"?[5,5]:[]),u.beginPath(),u.moveTo(Y,X);const w=(Y+J)/2;u.bezierCurveTo(w,X,w,ne,J,ne),u.stroke(),u.setLineDash([]);const te=Math.atan2(ne-X,J-Y),be=10;if(u.beginPath(),u.moveTo(J,ne),u.lineTo(J-be*Math.cos(te-Math.PI/6),ne-be*Math.sin(te-Math.PI/6)),u.moveTo(J,ne),u.lineTo(J-be*Math.cos(te+Math.PI/6),ne-be*Math.sin(te+Math.PI/6)),u.stroke(),j.data.label){const Ue=(Y+J)/2,Se=(X+ne)/2;u.fillStyle="#ffffff",u.fillRect(Ue-40,Se-10,80,20),u.fillStyle="#424242",u.font="12px Roboto, sans-serif",u.textAlign="center",u.textBaseline="middle",u.fillText(j.data.label,Ue,Se)}},z=()=>{const u=C.current,j=u==null?void 0:u.getContext("2d");if(!(!u||!j)){if(j.clearRect(0,0,u.width,u.height),j.save(),j.translate(i.x,i.y),j.scale(s,s),o){const F=u.width/s,Y=u.height/s,X=-i.x/s,J=-i.y/s;j.strokeStyle="#e0e0e0",j.lineWidth=.5;for(let ne=-X%20;ne<F;ne+=20)j.beginPath(),j.moveTo(ne+X,J),j.lineTo(ne+X,Y+J),j.stroke();for(let ne=-J%20;ne<Y;ne+=20)j.beginPath(),j.moveTo(X,ne+J),j.lineTo(F+X,ne+J),j.stroke()}t.forEach(V=>Q(j,V)),e.forEach(V=>q(j,V)),j.restore()}},T=u=>{const j=y(u.clientX,u.clientY);j?(m(j),u.shiftKey?g.current={...g.current,isConnecting:!0,connectionStart:j.id}:(N(u.clientX,u.clientY),g.current={isDragging:!0,isConnecting:!1,draggedNode:j,connectionStart:null,mouseStart:{x:u.clientX,y:u.clientY},elementStart:{x:j.position.x,y:j.position.y}})):(m(null),g.current={...g.current,isDragging:!0,mouseStart:{x:u.clientX,y:u.clientY},elementStart:{x:i.x,y:i.y}})},re=u=>{if(g.current.isDragging)if(g.current.draggedNode){const j=(u.clientX-g.current.mouseStart.x)/s,V=(u.clientY-g.current.mouseStart.y)/s,F={...g.current.draggedNode,position:{x:g.current.elementStart.x+j,y:g.current.elementStart.y+V}};f(F)}else{const j=u.clientX-g.current.mouseStart.x,V=u.clientY-g.current.mouseStart.y;p({x:g.current.elementStart.x+j,y:g.current.elementStart.y+V})}},M=u=>{if(g.current.isConnecting&&g.current.connectionStart){const j=y(u.clientX,u.clientY);j&&j.id!==g.current.connectionStart&&E(g.current.connectionStart,j.id)}g.current={isDragging:!1,isConnecting:!1,draggedNode:null,connectionStart:null,mouseStart:{x:0,y:0},elementStart:{x:0,y:0}}},W=u=>{u.preventDefault()},G=u=>{u.preventDefault();const j=u.dataTransfer.getData("componentType");j&&a(u,j)};return R.useEffect(()=>{const u=()=>{C.current&&D.current&&(C.current.width=D.current.clientWidth,C.current.height=D.current.clientHeight,z())};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),R.useEffect(()=>{z()},[e,t,r,o,s,i]),n.jsxDEV(P,{ref:D,sx:{width:"100%",height:"100%",cursor:g.current.isDragging?"grabbing":"grab",bgcolor:"grey.50"},onDragOver:W,onDrop:G,children:n.jsxDEV("canvas",{ref:C,style:{display:"block"},onMouseDown:T,onMouseMove:re,onMouseUp:M,onMouseLeave:M,onContextMenu:u=>{u.preventDefault();const j=y(u.clientX,u.clientY);b(u,j||void 0)}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/Canvas.tsx",lineNumber:395,columnNumber:9},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/Canvas.tsx",lineNumber:384,columnNumber:7},void 0)}),Dd=[{id:"user",label:"User",icon:n.jsxDEV(ia,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:39,columnNumber:11},void 0),category:"Actors",description:"Human user or external entity"},{id:"admin",label:"Administrator",icon:n.jsxDEV(aa,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:46,columnNumber:11},void 0),category:"Actors",description:"System administrator with elevated privileges"},{id:"attacker",label:"Threat Actor",icon:n.jsxDEV(Be,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:53,columnNumber:11},void 0),category:"Actors",description:"Potential attacker or malicious entity"},{id:"process",label:"Process",icon:n.jsxDEV(la,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:61,columnNumber:11},void 0),category:"Systems",description:"Application process or service"},{id:"webserver",label:"Web Server",icon:n.jsxDEV(da,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:68,columnNumber:11},void 0),category:"Systems",description:"Web server or application server"},{id:"api",label:"API",icon:n.jsxDEV(ca,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:75,columnNumber:11},void 0),category:"Systems",description:"REST API or web service"},{id:"mobile",label:"Mobile App",icon:n.jsxDEV(ua,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:82,columnNumber:11},void 0),category:"Systems",description:"Mobile application"},{id:"database",label:"Database",icon:n.jsxDEV(ma,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:90,columnNumber:11},void 0),category:"Data Stores",description:"Relational or NoSQL database"},{id:"cache",label:"Cache",icon:n.jsxDEV(fa,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:97,columnNumber:11},void 0),category:"Data Stores",description:"In-memory cache like Redis"},{id:"filestore",label:"File Storage",icon:n.jsxDEV(Wo,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:104,columnNumber:11},void 0),category:"Data Stores",description:"File system or object storage"},{id:"firewall",label:"Firewall",icon:n.jsxDEV(pa,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:112,columnNumber:11},void 0),category:"Infrastructure",description:"Network firewall or security appliance"},{id:"loadbalancer",label:"Load Balancer",icon:n.jsxDEV(ha,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:119,columnNumber:11},void 0),category:"Infrastructure",description:"Load balancer or reverse proxy"},{id:"external",label:"External System",icon:n.jsxDEV(Wo,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:126,columnNumber:11},void 0),category:"Infrastructure",description:"Third-party service or external system"}],Vd=["Actors","Systems","Data Stores","Infrastructure"],Td=()=>{const e=(t,r)=>{t.dataTransfer.setData("componentType",r),t.dataTransfer.effectAllowed="copy"};return n.jsxDEV(Ur,{sx:{pt:0},children:[Vd.map(t=>n.jsxDEV(P,{children:[n.jsxDEV(P,{sx:{px:2,py:1,bgcolor:"grey.100"},children:n.jsxDEV(A,{variant:"subtitle2",color:"text.secondary",children:t},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:145,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:144,columnNumber:11},void 0),Dd.filter(r=>r.category===t).map(r=>n.jsxDEV(zr,{draggable:!0,onDragStart:o=>e(o,r.id),sx:{cursor:"grab","&:hover":{bgcolor:"action.hover"},"&:active":{cursor:"grabbing"}},children:[n.jsxDEV(mt,{sx:{minWidth:40},children:ae.cloneElement(r.icon,{fontSize:"small",color:"action"})},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:166,columnNumber:17},void 0),n.jsxDEV(nt,{primary:r.label,secondary:r.description,primaryTypographyProps:{variant:"body2"},secondaryTypographyProps:{variant:"caption",sx:{display:"block",mt:.5}}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:172,columnNumber:17},void 0)]},r.id,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:152,columnNumber:15},void 0)),n.jsxDEV(Qe,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:185,columnNumber:11},void 0)]},t,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:143,columnNumber:9},void 0)),n.jsxDEV(P,{sx:{p:2,bgcolor:"grey.50"},children:n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"Drag components onto the canvas to add them to your threat model. Hold Shift and drag between components to create connections."},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:190,columnNumber:9},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:189,columnNumber:7},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ComponentPalette.tsx",lineNumber:141,columnNumber:5},void 0)},Pd=["Internet","DMZ","Internal Network","Secure Zone"],Sd=["Public","Internal","Confidential","Secret","Top Secret"],Cd=["HTTP","HTTPS","TCP","UDP","WebSocket","gRPC"],Md=["None","TLS 1.2","TLS 1.3","IPSec","Custom"],wd=({element:e,threats:t,onUpdate:r,onAddThreat:o})=>{var D,g,N,L,y,q,Q,z,T,re,M,W,G;const[s,i]=R.useState(0),[a,m]=R.useState(e),[f,E]=R.useState("");R.useEffect(()=>{m(e)},[e]);const b=(u,j)=>{const V={...a,data:{...a.data,properties:{...a.data.properties,[u]:j}}};m(V),r(V)},p=u=>{const j={...a,data:{...a.data,label:u}};m(j),r(j)},x=()=>{if(!f.trim())return;const u={id:`threat-${Date.now()}`,name:f,description:"",category:"Uncategorized",severity:"medium",likelihood:"medium",affectedComponents:"position"in e?[e.id]:[],affectedFlows:"source"in e?[e.id]:[],mitigations:[]};o(u),E("")},C="position"in e;return n.jsxDEV(yn,{anchor:"right",open:!0,variant:"persistent",sx:{width:320,flexShrink:0,"& .MuiDrawer-paper":{width:320,boxSizing:"border-box"}},children:n.jsxDEV(P,{sx:{p:2},children:[n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",mb:2},children:[n.jsxDEV(A,{variant:"h6",sx:{flexGrow:1},children:"Properties"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:124,columnNumber:11},void 0),n.jsxDEV(vn,{badgeContent:t.length,color:"error",children:n.jsxDEV(Be,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:128,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:127,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:123,columnNumber:9},void 0),n.jsxDEV($s,{value:s,onChange:(u,j)=>i(j),sx:{mb:2},children:[n.jsxDEV(Bt,{label:"General"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:133,columnNumber:11},void 0),n.jsxDEV(Bt,{label:"Security"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:134,columnNumber:11},void 0),n.jsxDEV(Bt,{label:`Threats (${t.length})`},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:135,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:132,columnNumber:9},void 0),s===0&&n.jsxDEV(P,{children:[n.jsxDEV(xe,{fullWidth:!0,label:"Name",value:a.data.label,onChange:u=>p(u.target.value),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:141,columnNumber:13},void 0),C?n.jsxDEV(n.Fragment,{children:[n.jsxDEV(Xe,{fullWidth:!0,sx:{mb:2},children:[n.jsxDEV(Je,{children:"Trust Boundary"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:152,columnNumber:19},void 0),n.jsxDEV(Ze,{value:((D=a.data.properties)==null?void 0:D.trustBoundary)||"",onChange:u=>b("trustBoundary",u.target.value),children:[n.jsxDEV(Z,{value:"",children:"None"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:157,columnNumber:21},void 0),Pd.map(u=>n.jsxDEV(Z,{value:u,children:u},u,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:159,columnNumber:23},void 0))]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:153,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:151,columnNumber:17},void 0),n.jsxDEV(xe,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:((g=a.data.properties)==null?void 0:g.description)||"",onChange:u=>b("description",u.target.value),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:166,columnNumber:17},void 0),n.jsxDEV(xe,{fullWidth:!0,label:"Technologies",placeholder:"e.g., Node.js, PostgreSQL",value:((N=a.data.properties)==null?void 0:N.technologies)||"",onChange:u=>b("technologies",u.target.value),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:176,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:150,columnNumber:15},void 0):n.jsxDEV(n.Fragment,{children:[n.jsxDEV(Xe,{fullWidth:!0,sx:{mb:2},children:[n.jsxDEV(Je,{children:"Protocol"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:188,columnNumber:19},void 0),n.jsxDEV(Ze,{value:((L=a.data.properties)==null?void 0:L.protocol)||"HTTPS",onChange:u=>b("protocol",u.target.value),children:Cd.map(u=>n.jsxDEV(Z,{value:u,children:u},u,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:194,columnNumber:23},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:189,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:187,columnNumber:17},void 0),n.jsxDEV(Xe,{fullWidth:!0,sx:{mb:2},children:[n.jsxDEV(Je,{children:"Data Classification"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:202,columnNumber:19},void 0),n.jsxDEV(Ze,{value:((y=a.data.properties)==null?void 0:y.dataClassification)||"Internal",onChange:u=>b("dataClassification",u.target.value),children:Sd.map(u=>n.jsxDEV(Z,{value:u,children:u},u,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:210,columnNumber:23},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:203,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:201,columnNumber:17},void 0),n.jsxDEV(xe,{fullWidth:!0,label:"Data Types",placeholder:"e.g., User credentials, PII",value:((q=a.data.properties)==null?void 0:q.dataTypes)||"",onChange:u=>b("dataTypes",u.target.value),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:217,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:186,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:140,columnNumber:11},void 0),s===1&&n.jsxDEV(P,{children:[C?n.jsxDEV(n.Fragment,{children:[n.jsxDEV(Xe,{fullWidth:!0,sx:{mb:2},children:[n.jsxDEV(Je,{children:"Authentication"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:236,columnNumber:19},void 0),n.jsxDEV(Ze,{value:((Q=a.data.properties)==null?void 0:Q.authentication)||"none",onChange:u=>b("authentication",u.target.value),children:[n.jsxDEV(Z,{value:"none",children:"None"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:241,columnNumber:21},void 0),n.jsxDEV(Z,{value:"basic",children:"Basic Auth"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:242,columnNumber:21},void 0),n.jsxDEV(Z,{value:"jwt",children:"JWT"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:243,columnNumber:21},void 0),n.jsxDEV(Z,{value:"oauth2",children:"OAuth 2.0"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:244,columnNumber:21},void 0),n.jsxDEV(Z,{value:"saml",children:"SAML"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:245,columnNumber:21},void 0),n.jsxDEV(Z,{value:"mutual-tls",children:"Mutual TLS"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:246,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:237,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:235,columnNumber:17},void 0),n.jsxDEV(xe,{fullWidth:!0,label:"Security Controls",multiline:!0,rows:3,placeholder:"List security controls in place",value:((z=a.data.properties)==null?void 0:z.securityControls)||"",onChange:u=>b("securityControls",u.target.value),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:250,columnNumber:17},void 0),n.jsxDEV(xe,{fullWidth:!0,label:"Compliance Requirements",placeholder:"e.g., PCI-DSS, GDPR",value:((T=a.data.properties)==null?void 0:T.compliance)||"",onChange:u=>b("compliance",u.target.value),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:261,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:234,columnNumber:15},void 0):n.jsxDEV(n.Fragment,{children:[n.jsxDEV(Xe,{fullWidth:!0,sx:{mb:2},children:[n.jsxDEV(Je,{children:"Encryption"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:273,columnNumber:19},void 0),n.jsxDEV(Ze,{value:((re=a.data.properties)==null?void 0:re.encryption)||"TLS 1.3",onChange:u=>b("encryption",u.target.value),children:Md.map(u=>n.jsxDEV(Z,{value:u,children:u},u,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:279,columnNumber:23},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:274,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:272,columnNumber:17},void 0),n.jsxDEV(Xe,{fullWidth:!0,sx:{mb:2},children:[n.jsxDEV(Je,{children:"Authentication"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:287,columnNumber:19},void 0),n.jsxDEV(Ze,{value:((M=a.data.properties)==null?void 0:M.authentication)||"none",onChange:u=>b("authentication",u.target.value),children:[n.jsxDEV(Z,{value:"none",children:"None"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:292,columnNumber:21},void 0),n.jsxDEV(Z,{value:"api-key",children:"API Key"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:293,columnNumber:21},void 0),n.jsxDEV(Z,{value:"bearer-token",children:"Bearer Token"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:294,columnNumber:21},void 0),n.jsxDEV(Z,{value:"mutual-tls",children:"Mutual TLS"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:295,columnNumber:21},void 0),n.jsxDEV(Z,{value:"signature",children:"Digital Signature"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:296,columnNumber:21},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:288,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:286,columnNumber:17},void 0),n.jsxDEV(xe,{fullWidth:!0,label:"Rate Limiting",placeholder:"e.g., 1000 req/min",value:((W=a.data.properties)==null?void 0:W.rateLimiting)||"",onChange:u=>b("rateLimiting",u.target.value),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:300,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:271,columnNumber:15},void 0),((G=a.data.properties)==null?void 0:G.securityScore)&&n.jsxDEV(er,{severity:"info",sx:{mt:2},children:["Security Score: ",a.data.properties.securityScore,"/100"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:312,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:232,columnNumber:11},void 0),s===2&&n.jsxDEV(P,{children:[n.jsxDEV(P,{sx:{display:"flex",gap:1,mb:2},children:[n.jsxDEV(xe,{fullWidth:!0,size:"small",placeholder:"Add new threat...",value:f,onChange:u=>E(u.target.value),onKeyPress:u=>u.key==="Enter"&&x()},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:323,columnNumber:15},void 0),n.jsxDEV(Ve,{onClick:x,color:"primary",children:n.jsxDEV(Kt,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:332,columnNumber:17},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:331,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:322,columnNumber:13},void 0),t.length===0?n.jsxDEV(Dn,{sx:{p:3,textAlign:"center",bgcolor:"grey.50"},children:[n.jsxDEV(En,{sx:{fontSize:48,color:"text.secondary",mb:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:338,columnNumber:17},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:"No threats identified yet"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:339,columnNumber:17},void 0),n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"Start by adding potential threats above"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:342,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:337,columnNumber:15},void 0):n.jsxDEV(Ur,{children:t.map(u=>n.jsxDEV(zr,{sx:{border:1,borderColor:"divider",borderRadius:1,mb:1},children:n.jsxDEV(nt,{primary:u.name,secondary:n.jsxDEV(P,{sx:{mt:1},children:[n.jsxDEV(ft,{label:u.severity,size:"small",color:u.severity==="critical"||u.severity==="high"?"error":u.severity==="medium"?"warning":"default",sx:{mr:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:362,columnNumber:27},void 0),n.jsxDEV(ft,{label:`${u.mitigations.length} mitigations`,size:"small",variant:"outlined"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:374,columnNumber:27},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:361,columnNumber:25},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:358,columnNumber:21},void 0)},u.id,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:349,columnNumber:19},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:347,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:321,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:122,columnNumber:7},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/PropertiesPanel.tsx",lineNumber:109,columnNumber:5},void 0)},cs=["Spoofing","Tampering","Repudiation","Information Disclosure","Denial of Service","Elevation of Privilege","Privacy","Other"],us=["critical","high","medium","low","info"],Ad=["very_high","high","medium","low","very_low"],kd=({open:e,threats:t,nodes:r,connections:o,onClose:s,onSelectElement:i,onUpdateThreat:a,onDeleteThreat:m})=>{const[f,E]=R.useState(""),[b,p]=R.useState(""),[x,C]=R.useState(""),[D,g]=R.useState(null),L=t.filter(T=>{const re=f===""||T.name.toLowerCase().includes(f.toLowerCase())||T.description.toLowerCase().includes(f.toLowerCase()),M=b===""||T.category===b,W=x===""||T.severity===x;return re&&M&&W}).reduce((T,re)=>{const M=re.category||"Uncategorized";return T[M]||(T[M]=[]),T[M].push(re),T},{}),y={total:t.length,critical:t.filter(T=>T.severity==="critical").length,high:t.filter(T=>T.severity==="high").length,mitigated:t.filter(T=>T.mitigations.length>0).length},q=T=>{g(T)},Q=()=>{D&&(a(D),g(null))},z=T=>{switch(T){case"critical":case"high":return n.jsxDEV(ya,{color:"error"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:143,columnNumber:16},void 0);case"medium":return n.jsxDEV(En,{color:"warning"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:145,columnNumber:16},void 0);case"low":return n.jsxDEV(qo,{color:"info"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:147,columnNumber:16},void 0);default:return n.jsxDEV(qo,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:149,columnNumber:16},void 0)}};return n.jsxDEV(n.Fragment,{children:[n.jsxDEV(yn,{anchor:"left",open:e,onClose:s,sx:{width:400,flexShrink:0,"& .MuiDrawer-paper":{width:400,boxSizing:"border-box"}},children:n.jsxDEV(P,{sx:{p:2},children:[n.jsxDEV(P,{sx:{display:"flex",alignItems:"center",mb:3},children:[n.jsxDEV(A,{variant:"h5",sx:{flexGrow:1},children:"Threat Analysis"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:171,columnNumber:13},void 0),n.jsxDEV(Ve,{onClick:s,children:n.jsxDEV(ba,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:175,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:174,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:170,columnNumber:11},void 0),n.jsxDEV(fe,{container:!0,spacing:2,sx:{mb:3},children:[n.jsxDEV(fe,{item:!0,xs:3,children:n.jsxDEV(P,{sx:{textAlign:"center"},children:[n.jsxDEV(A,{variant:"h4",children:y.total},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:183,columnNumber:17},void 0),n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"Total"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:184,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:182,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:181,columnNumber:13},void 0),n.jsxDEV(fe,{item:!0,xs:3,children:n.jsxDEV(P,{sx:{textAlign:"center"},children:[n.jsxDEV(A,{variant:"h4",color:"error.main",children:y.critical},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:191,columnNumber:17},void 0),n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"Critical"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:194,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:190,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:189,columnNumber:13},void 0),n.jsxDEV(fe,{item:!0,xs:3,children:n.jsxDEV(P,{sx:{textAlign:"center"},children:[n.jsxDEV(A,{variant:"h4",color:"warning.main",children:y.high},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:201,columnNumber:17},void 0),n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"High"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:204,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:200,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:199,columnNumber:13},void 0),n.jsxDEV(fe,{item:!0,xs:3,children:n.jsxDEV(P,{sx:{textAlign:"center"},children:[n.jsxDEV(A,{variant:"h4",color:"success.main",children:y.mitigated},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:211,columnNumber:17},void 0),n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"Mitigated"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:214,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:210,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:209,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:180,columnNumber:11},void 0),n.jsxDEV(P,{sx:{mb:2},children:[n.jsxDEV(xe,{fullWidth:!0,size:"small",placeholder:"Search threats...",value:f,onChange:T=>E(T.target.value),InputProps:{startAdornment:n.jsxDEV(ir,{position:"start",children:n.jsxDEV(go,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:232,columnNumber:21},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:231,columnNumber:19},void 0)},sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:223,columnNumber:13},void 0),n.jsxDEV(P,{sx:{display:"flex",gap:1},children:[n.jsxDEV(Xe,{size:"small",sx:{flex:1},children:[n.jsxDEV(Je,{children:"Category"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:241,columnNumber:17},void 0),n.jsxDEV(Ze,{value:b,onChange:T=>p(T.target.value),children:[n.jsxDEV(Z,{value:"",children:"All Categories"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:246,columnNumber:19},void 0),cs.map(T=>n.jsxDEV(Z,{value:T,children:T},T,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:248,columnNumber:21},void 0))]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:242,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:240,columnNumber:15},void 0),n.jsxDEV(Xe,{size:"small",sx:{flex:1},children:[n.jsxDEV(Je,{children:"Severity"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:256,columnNumber:17},void 0),n.jsxDEV(Ze,{value:x,onChange:T=>C(T.target.value),children:[n.jsxDEV(Z,{value:"",children:"All Severities"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:261,columnNumber:19},void 0),us.map(T=>n.jsxDEV(Z,{value:T,children:T.charAt(0).toUpperCase()+T.slice(1)},T,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:263,columnNumber:21},void 0))]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:257,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:255,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:239,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:222,columnNumber:11},void 0),Object.keys(L).length===0?n.jsxDEV(er,{severity:"info",children:"No threats found. Try adjusting your filters."},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:274,columnNumber:13},void 0):Object.entries(L).map(([T,re])=>n.jsxDEV(ga,{defaultExpanded:!0,children:[n.jsxDEV(Na,{expandIcon:n.jsxDEV(xa,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:280,columnNumber:47},void 0),children:[n.jsxDEV(A,{sx:{flexGrow:1},children:T},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:281,columnNumber:19},void 0),n.jsxDEV(vn,{badgeContent:re.length,color:"primary"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:282,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:280,columnNumber:17},void 0),n.jsxDEV(va,{sx:{p:0},children:n.jsxDEV(Ur,{children:re.map(M=>n.jsxDEV(zr,{sx:{borderBottom:1,borderColor:"divider","&:last-child":{borderBottom:0}},children:[n.jsxDEV(mt,{children:z(M.severity)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:295,columnNumber:25},void 0),n.jsxDEV(nt,{primary:M.name,secondary:n.jsxDEV(n.Fragment,{children:[`${M.severity} - Likelihood: ${M.likelihood}`,M.mitigations.length>0&&` - ${M.mitigations.length} mitigations`,n.jsxDEV("br",{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:302,columnNumber:31},void 0),n.jsxDEV(A,{component:"span",variant:"caption",color:"text.disabled",children:[M.affectedComponents.length+M.affectedFlows.length," affected elements"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:303,columnNumber:31},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:299,columnNumber:29},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:296,columnNumber:25},void 0),n.jsxDEV(ja,{children:[n.jsxDEV(Ve,{size:"small",onClick:()=>q(M),children:n.jsxDEV(mn,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:314,columnNumber:29},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:310,columnNumber:27},void 0),n.jsxDEV(Ve,{size:"small",onClick:()=>m(M.id),children:n.jsxDEV(Lr,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:320,columnNumber:29},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:316,columnNumber:27},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:309,columnNumber:25},void 0)]},M.id,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:287,columnNumber:23},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:285,columnNumber:19},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:284,columnNumber:17},void 0)]},T,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:279,columnNumber:15},void 0))]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:168,columnNumber:9},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:155,columnNumber:7},void 0),n.jsxDEV(nn,{open:D!==null,onClose:()=>g(null),maxWidth:"sm",fullWidth:!0,children:D&&n.jsxDEV(n.Fragment,{children:[n.jsxDEV(on,{children:"Edit Threat"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:342,columnNumber:13},void 0),n.jsxDEV(sn,{children:n.jsxDEV(P,{sx:{pt:2},children:[n.jsxDEV(xe,{fullWidth:!0,label:"Name",value:D.name,onChange:T=>g({...D,name:T.target.value}),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:345,columnNumber:17},void 0),n.jsxDEV(xe,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:D.description,onChange:T=>g({...D,description:T.target.value}),sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:355,columnNumber:17},void 0),n.jsxDEV(fe,{container:!0,spacing:2,children:[n.jsxDEV(fe,{item:!0,xs:4,children:n.jsxDEV(Xe,{fullWidth:!0,children:[n.jsxDEV(Je,{children:"Category"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:370,columnNumber:23},void 0),n.jsxDEV(Ze,{value:D.category,onChange:T=>g({...D,category:T.target.value}),children:cs.map(T=>n.jsxDEV(Z,{value:T,children:T},T,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:381,columnNumber:27},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:371,columnNumber:23},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:369,columnNumber:21},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:368,columnNumber:19},void 0),n.jsxDEV(fe,{item:!0,xs:4,children:n.jsxDEV(Xe,{fullWidth:!0,children:[n.jsxDEV(Je,{children:"Severity"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:391,columnNumber:23},void 0),n.jsxDEV(Ze,{value:D.severity,onChange:T=>g({...D,severity:T.target.value}),children:us.map(T=>n.jsxDEV(Z,{value:T,children:T.charAt(0).toUpperCase()+T.slice(1)},T,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:402,columnNumber:27},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:392,columnNumber:23},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:390,columnNumber:21},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:389,columnNumber:19},void 0),n.jsxDEV(fe,{item:!0,xs:4,children:n.jsxDEV(Xe,{fullWidth:!0,children:[n.jsxDEV(Je,{children:"Likelihood"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:412,columnNumber:23},void 0),n.jsxDEV(Ze,{value:D.likelihood,onChange:T=>g({...D,likelihood:T.target.value}),children:Ad.map(T=>n.jsxDEV(Z,{value:T,children:T.split("_").join(" ").charAt(0).toUpperCase()+T.split("_").join(" ").slice(1)},T,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:423,columnNumber:27},void 0))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:413,columnNumber:23},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:411,columnNumber:21},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:410,columnNumber:19},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:367,columnNumber:17},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:344,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:343,columnNumber:13},void 0),n.jsxDEV(an,{children:[n.jsxDEV(he,{onClick:()=>g(null),children:"Cancel"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:435,columnNumber:15},void 0),n.jsxDEV(he,{onClick:Q,variant:"contained",children:"Save"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:436,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:434,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:341,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:334,columnNumber:7},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/ThreatPanel.tsx",lineNumber:154,columnNumber:5},void 0)},ms=280,Rd=()=>{const e=Dr(),{nodes:t,connections:r,selectedElement:o,threats:s,canvasState:i}=ht(M=>M.editor),[a,m]=R.useState(!0),[f,E]=R.useState(!1),[b,p]=R.useState(null),x=R.useRef(null),C=R.useCallback((M,W)=>{var F;M.preventDefault();const G=(F=x.current)==null?void 0:F.getBoundingClientRect();if(!G)return;const u=M.clientX-G.left-i.pan.x,j=M.clientY-G.top-i.pan.y,V={id:`node-${Date.now()}`,type:W,position:{x:u/i.zoom,y:j/i.zoom},data:{label:`New ${W}`,properties:{}}};e(Xl(V))},[e,i]),D=R.useCallback(M=>{e(as(M))},[e]),g=R.useCallback(M=>{"position"in M?e(Jl(M)):e(td(M))},[e]),N=R.useCallback(()=>{o&&("position"in o?e(Zl(o.id)):e(rd(o.id)),e(as(null)))},[e,o]),L=R.useCallback((M,W)=>{const G={id:`connection-${Date.now()}`,source:M,target:W,type:"dataflow",data:{label:"Data Flow",properties:{protocol:"HTTPS",encryption:"TLS 1.3"}}};e(ed(G))},[e]),y=R.useCallback(M=>{const W=Math.max(.1,Math.min(2,i.zoom+M));e(Hn({zoom:W}))},[e,i.zoom]),q=R.useCallback(()=>{var J;if(t.length===0)return;const M=t.reduce((ne,w)=>({minX:Math.min(ne.minX,w.position.x),minY:Math.min(ne.minY,w.position.y),maxX:Math.max(ne.maxX,w.position.x+200),maxY:Math.max(ne.maxY,w.position.y+100)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),W=(J=x.current)==null?void 0:J.getBoundingClientRect();if(!W)return;const G=50,u=(W.width-2*G)/(M.maxX-M.minX),j=(W.height-2*G)/(M.maxY-M.minY),V=Math.min(u,j,1),F=(M.minX+M.maxX)/2,Y=(M.minY+M.maxY)/2,X={x:W.width/2-F*V,y:W.height/2-Y*V};e(Hn({zoom:V,pan:X}))},[e,t]),Q=R.useCallback((M,W)=>{M.preventDefault(),p(W?{x:M.clientX,y:M.clientY,element:W}:{x:M.clientX,y:M.clientY})},[]),z=R.useCallback(()=>{p(null)},[]),T=R.useCallback(()=>{console.log("Saving threat model...",{nodes:t,connections:r,threats:s})},[t,r,s]),re=o?s.filter(M=>"position"in o?M.affectedComponents.includes(o.id):M.affectedFlows.includes(o.id)):[];return n.jsxDEV(P,{sx:{display:"flex",height:"100vh",bgcolor:"background.default"},children:[n.jsxDEV(yn,{variant:"permanent",sx:{width:ms,flexShrink:0,"& .MuiDrawer-paper":{width:ms,boxSizing:"border-box",position:"relative",height:"100%"}},children:[n.jsxDEV(Rr,{children:n.jsxDEV(A,{variant:"h6",children:"Components"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:256,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:255,columnNumber:9},void 0),n.jsxDEV(Qe,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:258,columnNumber:9},void 0),n.jsxDEV(Td,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:259,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:242,columnNumber:7},void 0),n.jsxDEV(P,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[n.jsxDEV(Dn,{elevation:0,sx:{borderBottom:1,borderColor:"divider"},children:n.jsxDEV(Rr,{variant:"dense",children:[n.jsxDEV(Ve,{onClick:T,size:"small",children:n.jsxDEV(Ea,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:268,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:267,columnNumber:13},void 0),n.jsxDEV(Qe,{orientation:"vertical",flexItem:!0,sx:{mx:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:270,columnNumber:13},void 0),n.jsxDEV(Ve,{size:"small",disabled:!0,children:n.jsxDEV(Da,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:272,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:271,columnNumber:13},void 0),n.jsxDEV(Ve,{size:"small",disabled:!0,children:n.jsxDEV(Va,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:275,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:274,columnNumber:13},void 0),n.jsxDEV(Qe,{orientation:"vertical",flexItem:!0,sx:{mx:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:277,columnNumber:13},void 0),n.jsxDEV(Ve,{onClick:()=>y(.1),size:"small",children:n.jsxDEV(Ta,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:279,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:278,columnNumber:13},void 0),n.jsxDEV(Ve,{onClick:()=>y(-.1),size:"small",children:n.jsxDEV(Pa,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:282,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:281,columnNumber:13},void 0),n.jsxDEV(Ve,{onClick:q,size:"small",children:n.jsxDEV(Sa,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:285,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:284,columnNumber:13},void 0),n.jsxDEV(Ve,{onClick:()=>m(!a),size:"small",color:a?"primary":"default",children:n.jsxDEV(Ca,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:292,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:287,columnNumber:13},void 0),n.jsxDEV(Qe,{orientation:"vertical",flexItem:!0,sx:{mx:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:294,columnNumber:13},void 0),n.jsxDEV(Ve,{onClick:N,size:"small",disabled:!o,children:n.jsxDEV(Lr,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:300,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:295,columnNumber:13},void 0),n.jsxDEV(P,{sx:{flexGrow:1}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:302,columnNumber:13},void 0),n.jsxDEV(A,{variant:"body2",sx:{mr:2},children:["Zoom: ",Math.round(i.zoom*100),"%"]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:303,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:266,columnNumber:11},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:265,columnNumber:9},void 0),n.jsxDEV(P,{sx:{flexGrow:1,position:"relative",overflow:"hidden"},children:[n.jsxDEV(Ed,{ref:x,nodes:t,connections:r,selectedElement:o,showGrid:a,zoom:i.zoom,pan:i.pan,onDrop:C,onSelectElement:D,onUpdateElement:g,onConnect:L,onContextMenu:Q,onPanChange:M=>e(Hn({pan:M}))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:311,columnNumber:11},void 0),n.jsxDEV(Ma,{title:"View Threats",children:n.jsxDEV(Qs,{color:"secondary",sx:{position:"absolute",bottom:16,right:16},onClick:()=>E(!f),children:n.jsxDEV(vn,{badgeContent:s.length,color:"error",children:n.jsxDEV(En,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:335,columnNumber:17},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:334,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:329,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:328,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:310,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:263,columnNumber:7},void 0),o&&n.jsxDEV(wd,{element:o,threats:re,onUpdate:g,onAddThreat:M=>e(nd(M))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:344,columnNumber:9},void 0),n.jsxDEV(kd,{open:f,threats:s,nodes:t,connections:r,onClose:()=>E(!1),onSelectElement:D,onUpdateThreat:M=>e(od(M)),onDeleteThreat:M=>e(sd(M))},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:353,columnNumber:7},void 0),n.jsxDEV(jn,{open:b!==null,onClose:z,anchorReference:"anchorPosition",anchorPosition:b!==null?{top:b.y,left:b.x}:{top:0,left:0},children:[n.jsxDEV(Z,{onClick:()=>{z()},children:[n.jsxDEV(mt,{children:n.jsxDEV(wa,{fontSize:"small"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:380,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:379,columnNumber:11},void 0),n.jsxDEV(nt,{children:"Copy"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:382,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:375,columnNumber:9},void 0),n.jsxDEV(Z,{onClick:()=>{z()},children:[n.jsxDEV(mt,{children:n.jsxDEV(Aa,{fontSize:"small"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:389,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:388,columnNumber:11},void 0),n.jsxDEV(nt,{children:"Paste"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:391,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:384,columnNumber:9},void 0),n.jsxDEV(Qe,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:393,columnNumber:9},void 0),n.jsxDEV(Z,{onClick:()=>{N(),z()},children:[n.jsxDEV(mt,{children:n.jsxDEV(Lr,{fontSize:"small"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:399,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:398,columnNumber:11},void 0),n.jsxDEV(nt,{children:"Delete"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:401,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:394,columnNumber:9},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:365,columnNumber:7},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/components/ThreatModelEditor/index.tsx",lineNumber:240,columnNumber:5},void 0)},Ld={nodes:[{id:"node-1",type:"user",position:{x:100,y:100},data:{label:"End User",properties:{trustBoundary:"Internet",description:"External users accessing the application"}}},{id:"node-2",type:"webserver",position:{x:400,y:100},data:{label:"Web Server",properties:{trustBoundary:"DMZ",technologies:"Nginx, Node.js",authentication:"jwt"}}},{id:"node-3",type:"database",position:{x:700,y:100},data:{label:"User Database",properties:{trustBoundary:"Internal Network",technologies:"PostgreSQL",dataClassification:"Confidential"}}}],connections:[{id:"conn-1",source:"node-1",target:"node-2",type:"dataflow",data:{label:"HTTPS Request",properties:{protocol:"HTTPS",encryption:"TLS 1.3",dataTypes:"User credentials, Session data"}}},{id:"conn-2",source:"node-2",target:"node-3",type:"dataflow",data:{label:"Database Query",properties:{protocol:"TCP",encryption:"TLS 1.2",authentication:"mutual-tls",dataTypes:"User records, Authentication data"}}}],threats:[{id:"threat-1",name:"SQL Injection",description:"Attacker could inject malicious SQL through user input",category:"Tampering",severity:"high",likelihood:"medium",affectedComponents:["node-2"],affectedFlows:["conn-2"],mitigations:[{id:"mit-1",name:"Parameterized Queries",description:"Use prepared statements for all database queries",effectiveness:"high",implemented:!1,cost:"low",effort:"low"}]},{id:"threat-2",name:"Man-in-the-Middle Attack",description:"Attacker could intercept communication between user and server",category:"Information Disclosure",severity:"medium",likelihood:"low",affectedComponents:[],affectedFlows:["conn-1"],mitigations:[{id:"mit-2",name:"Certificate Pinning",description:"Implement certificate pinning in mobile apps",effectiveness:"high",implemented:!0,cost:"medium",effort:"medium"}]}]},_d=()=>{const{id:e}=Oi();vr();const t=Dr(),[r,o]=ae.useState(!0),[s,i]=ae.useState(null);return R.useEffect(()=>{e?(async()=>{try{o(!0),setTimeout(()=>{t(id(Ld)),o(!1),t(ss({message:"Threat model loaded successfully",type:"success"}))},1e3)}catch{i("Failed to load threat model"),o(!1),t(ss({message:"Failed to load threat model",type:"error"}))}})():(i("No threat model ID provided"),o(!1))},[e,t]),r?n.jsxDEV(P,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:n.jsxDEV(sr,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModelEditor.tsx",lineNumber:184,columnNumber:9},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModelEditor.tsx",lineNumber:176,columnNumber:7},void 0):s?n.jsxDEV(P,{sx:{p:3},children:n.jsxDEV(er,{severity:"error",children:s},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModelEditor.tsx",lineNumber:192,columnNumber:9},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModelEditor.tsx",lineNumber:191,columnNumber:7},void 0):n.jsxDEV(Rd,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/ThreatModelEditor.tsx",lineNumber:197,columnNumber:10},void 0)};var Wr=e=>e.type==="checkbox",Ut=e=>e instanceof Date,Le=e=>e==null;const hi=e=>typeof e=="object";var je=e=>!Le(e)&&!Array.isArray(e)&&hi(e)&&!Ut(e),bi=e=>je(e)&&e.target?Wr(e.target)?e.target.checked:e.target.value:e,Id=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gi=(e,t)=>e.has(Id(t)),Fd=e=>{const t=e.constructor&&e.constructor.prototype;return je(t)&&t.hasOwnProperty("isPrototypeOf")},Do=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pe(e){let t;const r=Array.isArray(e),o=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Do&&(e instanceof Blob||o))&&(r||je(e)))if(t=r?[]:{},!r&&!Fd(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Pe(e[s]));else return e;return t}var Vn=e=>/^\w*$/.test(e),ve=e=>e===void 0,Vo=e=>Array.isArray(e)?e.filter(Boolean):[],To=e=>Vo(e.replace(/["|']|\]/g,"").split(/\.|\[/)),I=(e,t,r)=>{if(!t||!je(e))return r;const o=(Vn(t)?[t]:To(t)).reduce((s,i)=>Le(s)?s:s[i],e);return ve(o)||o===e?ve(e[t])?r:e[t]:o},ze=e=>typeof e=="boolean",ce=(e,t,r)=>{let o=-1;const s=Vn(t)?[t]:To(t),i=s.length,a=i-1;for(;++o<i;){const m=s[o];let f=r;if(o!==a){const E=e[m];f=je(E)||Array.isArray(E)?E:isNaN(+s[o+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=f,e=e[m]}};const bn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},tt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},lt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ni=ae.createContext(null);Ni.displayName="HookFormContext";const Po=()=>ae.useContext(Ni);var xi=(e,t,r,o=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==tt.all&&(t._proxyFormState[a]=!o||tt.all),r&&(r[a]=!0),e[a]}});return s};const So=typeof window<"u"?R.useLayoutEffect:R.useEffect;function Od(e){const t=Po(),{control:r=t.control,disabled:o,name:s,exact:i}=e||{},[a,m]=ae.useState(r._formState),f=ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return So(()=>r._subscribe({name:s,formState:f.current,exact:i,callback:E=>{!o&&m({...r._formState,...E})}}),[s,o,i]),ae.useEffect(()=>{f.current.isValid&&r._setValid(!0)},[r]),ae.useMemo(()=>xi(a,r,f.current,!1),[a,r])}var at=e=>typeof e=="string",vi=(e,t,r,o,s)=>at(e)?(o&&t.watch.add(e),I(r,e,s)):Array.isArray(e)?e.map(i=>(o&&t.watch.add(i),I(r,i))):(o&&(t.watchAll=!0),r);function Bd(e){const t=Po(),{control:r=t.control,name:o,defaultValue:s,disabled:i,exact:a}=e||{},m=ae.useRef(s),[f,E]=ae.useState(r._getWatch(o,m.current));return So(()=>r._subscribe({name:o,formState:{values:!0},exact:a,callback:b=>!i&&E(vi(o,r._names,b.values||r._formValues,!1,m.current))}),[o,r,i,a]),ae.useEffect(()=>r._removeUnmounted()),f}function Ud(e){const t=Po(),{name:r,disabled:o,control:s=t.control,shouldUnregister:i}=e,a=gi(s._names.array,r),m=Bd({control:s,name:r,defaultValue:I(s._formValues,r,I(s._defaultValues,r,e.defaultValue)),exact:!0}),f=Od({control:s,name:r,exact:!0}),E=ae.useRef(e),b=ae.useRef(s.register(r,{...e.rules,value:m,...ze(e.disabled)?{disabled:e.disabled}:{}})),p=ae.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!I(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!I(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!I(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!I(f.validatingFields,r)},error:{enumerable:!0,get:()=>I(f.errors,r)}}),[f,r]),x=ae.useCallback(N=>b.current.onChange({target:{value:bi(N),name:r},type:bn.CHANGE}),[r]),C=ae.useCallback(()=>b.current.onBlur({target:{value:I(s._formValues,r),name:r},type:bn.BLUR}),[r,s._formValues]),D=ae.useCallback(N=>{const L=I(s._fields,r);L&&N&&(L._f.ref={focus:()=>N.focus&&N.focus(),select:()=>N.select&&N.select(),setCustomValidity:y=>N.setCustomValidity(y),reportValidity:()=>N.reportValidity()})},[s._fields,r]),g=ae.useMemo(()=>({name:r,value:m,...ze(o)||f.disabled?{disabled:f.disabled||o}:{},onChange:x,onBlur:C,ref:D}),[r,o,f.disabled,x,C,D,m]);return ae.useEffect(()=>{const N=s._options.shouldUnregister||i;s.register(r,{...E.current.rules,...ze(E.current.disabled)?{disabled:E.current.disabled}:{}});const L=(y,q)=>{const Q=I(s._fields,y);Q&&Q._f&&(Q._f.mount=q)};if(L(r,!0),N){const y=Pe(I(s._options.defaultValues,r));ce(s._defaultValues,r,y),ve(I(s._formValues,r))&&ce(s._formValues,r,y)}return!a&&s.register(r),()=>{(a?N&&!s._state.action:N)?s.unregister(r):L(r,!1)}},[r,s,a,i]),ae.useEffect(()=>{s._setDisabledField({disabled:o,name:r})},[o,r,s]),ae.useMemo(()=>({field:g,formState:f,fieldState:p}),[g,f,p])}const fs=e=>e.render(Ud(e));var ji=(e,t,r,o,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[o]:s||!0}}:{},Ar=e=>Array.isArray(e)?e:[e],ps=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},mo=e=>Le(e)||!hi(e);function xt(e,t){if(mo(e)||mo(t))return e===t;if(Ut(e)&&Ut(t))return e.getTime()===t.getTime();const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(const s of r){const i=e[s];if(!o.includes(s))return!1;if(s!=="ref"){const a=t[s];if(Ut(i)&&Ut(a)||je(i)&&je(a)||Array.isArray(i)&&Array.isArray(a)?!xt(i,a):i!==a)return!1}}return!0}var Oe=e=>je(e)&&!Object.keys(e).length,Co=e=>e.type==="file",rt=e=>typeof e=="function",gn=e=>{if(!Do)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},yi=e=>e.type==="select-multiple",Mo=e=>e.type==="radio",zd=e=>Mo(e)||Wr(e),Qn=e=>gn(e)&&e.isConnected;function Wd(e,t){const r=t.slice(0,-1).length;let o=0;for(;o<r;)e=ve(e)?o++:e[t[o++]];return e}function qd(e){for(const t in e)if(e.hasOwnProperty(t)&&!ve(e[t]))return!1;return!0}function Ee(e,t){const r=Array.isArray(t)?t:Vn(t)?[t]:To(t),o=r.length===1?e:Wd(e,r),s=r.length-1,i=r[s];return o&&delete o[i],s!==0&&(je(o)&&Oe(o)||Array.isArray(o)&&qd(o))&&Ee(e,r.slice(0,-1)),e}var Ei=e=>{for(const t in e)if(rt(e[t]))return!0;return!1};function Nn(e,t={}){const r=Array.isArray(e);if(je(e)||r)for(const o in e)Array.isArray(e[o])||je(e[o])&&!Ei(e[o])?(t[o]=Array.isArray(e[o])?[]:{},Nn(e[o],t[o])):Le(e[o])||(t[o]=!0);return t}function Di(e,t,r){const o=Array.isArray(e);if(je(e)||o)for(const s in e)Array.isArray(e[s])||je(e[s])&&!Ei(e[s])?ve(t)||mo(r[s])?r[s]=Array.isArray(e[s])?Nn(e[s],[]):{...Nn(e[s])}:Di(e[s],Le(t)?{}:t[s],r[s]):r[s]=!xt(e[s],t[s]);return r}var Cr=(e,t)=>Di(e,t,Nn(t));const hs={value:!1,isValid:!1},bs={value:!0,isValid:!0};var Vi=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ve(e[0].attributes.value)?ve(e[0].value)||e[0].value===""?bs:{value:e[0].value,isValid:!0}:bs:hs}return hs},Ti=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:o})=>ve(e)?e:t?e===""?NaN:e&&+e:r&&at(e)?new Date(e):o?o(e):e;const gs={isValid:!1,value:null};var Pi=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,gs):gs;function Ns(e){const t=e.ref;return Co(t)?t.files:Mo(t)?Pi(e.refs).value:yi(t)?[...t.selectedOptions].map(({value:r})=>r):Wr(t)?Vi(e.refs).value:Ti(ve(t.value)?e.ref.value:t.value,e)}var Hd=(e,t,r,o)=>{const s={};for(const i of e){const a=I(t,i);a&&ce(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:o}},xn=e=>e instanceof RegExp,Mr=e=>ve(e)?e:xn(e)?e.source:je(e)?xn(e.value)?e.value.source:e.value:e,xs=e=>({isOnSubmit:!e||e===tt.onSubmit,isOnBlur:e===tt.onBlur,isOnChange:e===tt.onChange,isOnAll:e===tt.all,isOnTouch:e===tt.onTouched});const vs="AsyncFunction";var Qd=e=>!!e&&!!e.validate&&!!(rt(e.validate)&&e.validate.constructor.name===vs||je(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===vs)),$d=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),js=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(o=>e.startsWith(o)&&/^\.\w+/.test(e.slice(o.length))));const kr=(e,t,r,o)=>{for(const s of r||Object.keys(e)){const i=I(e,s);if(i){const{_f:a,...m}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!o)return!0;if(a.ref&&t(a.ref,a.name)&&!o)return!0;if(kr(m,t))break}else if(je(m)&&kr(m,t))break}}};function ys(e,t,r){const o=I(e,r);if(o||Vn(r))return{error:o,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=I(t,i),m=I(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(m&&m.type)return{name:i,error:m};if(m&&m.root&&m.root.type)return{name:`${i}.root`,error:m.root};s.pop()}return{name:r}}var Gd=(e,t,r,o)=>{r(e);const{name:s,...i}=e;return Oe(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!o||tt.all))},Yd=(e,t,r)=>!e||!t||e===t||Ar(e).some(o=>o&&(r?o===t:o.startsWith(t)||t.startsWith(o))),Kd=(e,t,r,o,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?o.isOnBlur:s.isOnBlur)?!e:(r?o.isOnChange:s.isOnChange)?e:!0,Xd=(e,t)=>!Vo(I(e,t)).length&&Ee(e,t),Jd=(e,t,r)=>{const o=Ar(I(e,r));return ce(o,"root",t[r]),ce(e,r,o),e},un=e=>at(e);function Es(e,t,r="validate"){if(un(e)||Array.isArray(e)&&e.every(un)||ze(e)&&!e)return{type:r,message:un(e)?e:"",ref:t}}var or=e=>je(e)&&!xn(e)?e:{value:e,message:""},Ds=async(e,t,r,o,s,i)=>{const{ref:a,refs:m,required:f,maxLength:E,minLength:b,min:p,max:x,pattern:C,validate:D,name:g,valueAsNumber:N,mount:L}=e._f,y=I(r,g);if(!L||t.has(g))return{};const q=m?m[0]:a,Q=j=>{s&&q.reportValidity&&(q.setCustomValidity(ze(j)?"":j||""),q.reportValidity())},z={},T=Mo(a),re=Wr(a),M=T||re,W=(N||Co(a))&&ve(a.value)&&ve(y)||gn(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,G=ji.bind(null,g,o,z),u=(j,V,F,Y=lt.maxLength,X=lt.minLength)=>{const J=j?V:F;z[g]={type:j?Y:X,message:J,ref:a,...G(j?Y:X,J)}};if(i?!Array.isArray(y)||!y.length:f&&(!M&&(W||Le(y))||ze(y)&&!y||re&&!Vi(m).isValid||T&&!Pi(m).isValid)){const{value:j,message:V}=un(f)?{value:!!f,message:f}:or(f);if(j&&(z[g]={type:lt.required,message:V,ref:q,...G(lt.required,V)},!o))return Q(V),z}if(!W&&(!Le(p)||!Le(x))){let j,V;const F=or(x),Y=or(p);if(!Le(y)&&!isNaN(y)){const X=a.valueAsNumber||y&&+y;Le(F.value)||(j=X>F.value),Le(Y.value)||(V=X<Y.value)}else{const X=a.valueAsDate||new Date(y),J=te=>new Date(new Date().toDateString()+" "+te),ne=a.type=="time",w=a.type=="week";at(F.value)&&y&&(j=ne?J(y)>J(F.value):w?y>F.value:X>new Date(F.value)),at(Y.value)&&y&&(V=ne?J(y)<J(Y.value):w?y<Y.value:X<new Date(Y.value))}if((j||V)&&(u(!!j,F.message,Y.message,lt.max,lt.min),!o))return Q(z[g].message),z}if((E||b)&&!W&&(at(y)||i&&Array.isArray(y))){const j=or(E),V=or(b),F=!Le(j.value)&&y.length>+j.value,Y=!Le(V.value)&&y.length<+V.value;if((F||Y)&&(u(F,j.message,V.message),!o))return Q(z[g].message),z}if(C&&!W&&at(y)){const{value:j,message:V}=or(C);if(xn(j)&&!y.match(j)&&(z[g]={type:lt.pattern,message:V,ref:a,...G(lt.pattern,V)},!o))return Q(V),z}if(D){if(rt(D)){const j=await D(y,r),V=Es(j,q);if(V&&(z[g]={...V,...G(lt.validate,V.message)},!o))return Q(V.message),z}else if(je(D)){let j={};for(const V in D){if(!Oe(j)&&!o)break;const F=Es(await D[V](y,r),q,V);F&&(j={...F,...G(V,F.message)},Q(F.message),o&&(z[g]=j))}if(!Oe(j)&&(z[g]={ref:q,...j},!o))return z}}return Q(!0),z};const Zd={mode:tt.onSubmit,reValidateMode:tt.onChange,shouldFocusError:!0};function ec(e={}){let t={...Zd,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:rt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const o={};let s=je(t.defaultValues)||je(t.values)?Pe(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Pe(s),a={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,E=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...b};const x={array:ps(),state:ps()},C=t.criteriaMode===tt.all,D=c=>h=>{clearTimeout(E),E=setTimeout(c,h)},g=async c=>{if(!t.disabled&&(b.isValid||p.isValid||c)){const h=t.resolver?Oe((await re()).errors):await W(o,!0);h!==r.isValid&&x.state.next({isValid:h})}},N=(c,h)=>{!t.disabled&&(b.isValidating||b.validatingFields||p.isValidating||p.validatingFields)&&((c||Array.from(m.mount)).forEach(v=>{v&&(h?ce(r.validatingFields,v,h):Ee(r.validatingFields,v))}),x.state.next({validatingFields:r.validatingFields,isValidating:!Oe(r.validatingFields)}))},L=(c,h=[],v,O,_=!0,k=!0)=>{if(O&&v&&!t.disabled){if(a.action=!0,k&&Array.isArray(I(o,c))){const H=v(I(o,c),O.argA,O.argB);_&&ce(o,c,H)}if(k&&Array.isArray(I(r.errors,c))){const H=v(I(r.errors,c),O.argA,O.argB);_&&ce(r.errors,c,H),Xd(r.errors,c)}if((b.touchedFields||p.touchedFields)&&k&&Array.isArray(I(r.touchedFields,c))){const H=v(I(r.touchedFields,c),O.argA,O.argB);_&&ce(r.touchedFields,c,H)}(b.dirtyFields||p.dirtyFields)&&(r.dirtyFields=Cr(s,i)),x.state.next({name:c,isDirty:u(c,h),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ce(i,c,h)},y=(c,h)=>{ce(r.errors,c,h),x.state.next({errors:r.errors})},q=c=>{r.errors=c,x.state.next({errors:r.errors,isValid:!1})},Q=(c,h,v,O)=>{const _=I(o,c);if(_){const k=I(i,c,ve(v)?I(s,c):v);ve(k)||O&&O.defaultChecked||h?ce(i,c,h?k:Ns(_._f)):F(c,k),a.mount&&g()}},z=(c,h,v,O,_)=>{let k=!1,H=!1;const se={name:c};if(!t.disabled){if(!v||O){(b.isDirty||p.isDirty)&&(H=r.isDirty,r.isDirty=se.isDirty=u(),k=H!==se.isDirty);const me=xt(I(s,c),h);H=!!I(r.dirtyFields,c),me?Ee(r.dirtyFields,c):ce(r.dirtyFields,c,!0),se.dirtyFields=r.dirtyFields,k=k||(b.dirtyFields||p.dirtyFields)&&H!==!me}if(v){const me=I(r.touchedFields,c);me||(ce(r.touchedFields,c,v),se.touchedFields=r.touchedFields,k=k||(b.touchedFields||p.touchedFields)&&me!==v)}k&&_&&x.state.next(se)}return k?se:{}},T=(c,h,v,O)=>{const _=I(r.errors,c),k=(b.isValid||p.isValid)&&ze(h)&&r.isValid!==h;if(t.delayError&&v?(f=D(()=>y(c,v)),f(t.delayError)):(clearTimeout(E),f=null,v?ce(r.errors,c,v):Ee(r.errors,c)),(v?!xt(_,v):_)||!Oe(O)||k){const H={...O,...k&&ze(h)?{isValid:h}:{},errors:r.errors,name:c};r={...r,...H},x.state.next(H)}},re=async c=>{N(c,!0);const h=await t.resolver(i,t.context,Hd(c||m.mount,o,t.criteriaMode,t.shouldUseNativeValidation));return N(c),h},M=async c=>{const{errors:h}=await re(c);if(c)for(const v of c){const O=I(h,v);O?ce(r.errors,v,O):Ee(r.errors,v)}else r.errors=h;return h},W=async(c,h,v={valid:!0})=>{for(const O in c){const _=c[O];if(_){const{_f:k,...H}=_;if(k){const se=m.array.has(k.name),me=_._f&&Qd(_._f);me&&b.validatingFields&&N([O],!0);const Me=await Ds(_,m.disabled,i,C,t.shouldUseNativeValidation&&!h,se);if(me&&b.validatingFields&&N([O]),Me[k.name]&&(v.valid=!1,h))break;!h&&(I(Me,k.name)?se?Jd(r.errors,Me,k.name):ce(r.errors,k.name,Me[k.name]):Ee(r.errors,k.name))}!Oe(H)&&await W(H,h,v)}}return v.valid},G=()=>{for(const c of m.unMount){const h=I(o,c);h&&(h._f.refs?h._f.refs.every(v=>!Qn(v)):!Qn(h._f.ref))&&At(c)}m.unMount=new Set},u=(c,h)=>!t.disabled&&(c&&h&&ce(i,c,h),!xt(te(),s)),j=(c,h,v)=>vi(c,m,{...a.mount?i:ve(h)?s:at(c)?{[c]:h}:h},v,h),V=c=>Vo(I(a.mount?i:s,c,t.shouldUnregister?I(s,c,[]):[])),F=(c,h,v={})=>{const O=I(o,c);let _=h;if(O){const k=O._f;k&&(!k.disabled&&ce(i,c,Ti(h,k)),_=gn(k.ref)&&Le(h)?"":h,yi(k.ref)?[...k.ref.options].forEach(H=>H.selected=_.includes(H.value)):k.refs?Wr(k.ref)?k.refs.forEach(H=>{(!H.defaultChecked||!H.disabled)&&(Array.isArray(_)?H.checked=!!_.find(se=>se===H.value):H.checked=_===H.value||!!_)}):k.refs.forEach(H=>H.checked=H.value===_):Co(k.ref)?k.ref.value="":(k.ref.value=_,k.ref.type||x.state.next({name:c,values:Pe(i)})))}(v.shouldDirty||v.shouldTouch)&&z(c,_,v.shouldTouch,v.shouldDirty,!0),v.shouldValidate&&w(c)},Y=(c,h,v)=>{for(const O in h){if(!h.hasOwnProperty(O))return;const _=h[O],k=c+"."+O,H=I(o,k);(m.array.has(c)||je(_)||H&&!H._f)&&!Ut(_)?Y(k,_,v):F(k,_,v)}},X=(c,h,v={})=>{const O=I(o,c),_=m.array.has(c),k=Pe(h);ce(i,c,k),_?(x.array.next({name:c,values:Pe(i)}),(b.isDirty||b.dirtyFields||p.isDirty||p.dirtyFields)&&v.shouldDirty&&x.state.next({name:c,dirtyFields:Cr(s,i),isDirty:u(c,k)})):O&&!O._f&&!Le(k)?Y(c,k,v):F(c,k,v),js(c,m)&&x.state.next({...r}),x.state.next({name:a.mount?c:void 0,values:Pe(i)})},J=async c=>{a.mount=!0;const h=c.target;let v=h.name,O=!0;const _=I(o,v),k=me=>{O=Number.isNaN(me)||Ut(me)&&isNaN(me.getTime())||xt(me,I(i,v,me))},H=xs(t.mode),se=xs(t.reValidateMode);if(_){let me,Me;const Ft=h.type?Ns(_._f):bi(c),We=c.type===bn.BLUR||c.type===bn.FOCUS_OUT,Mn=!$d(_._f)&&!t.resolver&&!I(r.errors,v)&&!_._f.deps||Kd(We,I(r.touchedFields,v),r.isSubmitted,se,H),Pr=js(v,m,We);ce(i,v,Ft),We?(_._f.onBlur&&_._f.onBlur(c),f&&f(0)):_._f.onChange&&_._f.onChange(c);const Sr=z(v,Ft,We),wn=!Oe(Sr)||Pr;if(!We&&x.state.next({name:v,type:c.type,values:Pe(i)}),Mn)return(b.isValid||p.isValid)&&(t.mode==="onBlur"?We&&g():We||g()),wn&&x.state.next({name:v,...Pr?{}:Sr});if(!We&&Pr&&x.state.next({...r}),t.resolver){const{errors:$r}=await re([v]);if(k(Ft),O){const An=ys(r.errors,o,v),Gr=ys($r,o,An.name||v);me=Gr.error,v=Gr.name,Me=Oe($r)}}else N([v],!0),me=(await Ds(_,m.disabled,i,C,t.shouldUseNativeValidation))[v],N([v]),k(Ft),O&&(me?Me=!1:(b.isValid||p.isValid)&&(Me=await W(o,!0)));O&&(_._f.deps&&w(_._f.deps),T(v,Me,me,Sr))}},ne=(c,h)=>{if(I(r.errors,h)&&c.focus)return c.focus(),1},w=async(c,h={})=>{let v,O;const _=Ar(c);if(t.resolver){const k=await M(ve(c)?c:_);v=Oe(k),O=c?!_.some(H=>I(k,H)):v}else c?(O=(await Promise.all(_.map(async k=>{const H=I(o,k);return await W(H&&H._f?{[k]:H}:H)}))).every(Boolean),!(!O&&!r.isValid)&&g()):O=v=await W(o);return x.state.next({...!at(c)||(b.isValid||p.isValid)&&v!==r.isValid?{}:{name:c},...t.resolver||!c?{isValid:v}:{},errors:r.errors}),h.shouldFocus&&!O&&kr(o,ne,c?_:m.mount),O},te=c=>{const h={...a.mount?i:s};return ve(c)?h:at(c)?I(h,c):c.map(v=>I(h,v))},be=(c,h)=>({invalid:!!I((h||r).errors,c),isDirty:!!I((h||r).dirtyFields,c),error:I((h||r).errors,c),isValidating:!!I(r.validatingFields,c),isTouched:!!I((h||r).touchedFields,c)}),Ue=c=>{c&&Ar(c).forEach(h=>Ee(r.errors,h)),x.state.next({errors:c?r.errors:{}})},Se=(c,h,v)=>{const O=(I(o,c,{_f:{}})._f||{}).ref,_=I(r.errors,c)||{},{ref:k,message:H,type:se,...me}=_;ce(r.errors,c,{...me,...h,ref:O}),x.state.next({name:c,errors:r.errors,isValid:!1}),v&&v.shouldFocus&&O&&O.focus&&O.focus()},Tn=(c,h)=>rt(c)?x.state.subscribe({next:v=>c(j(void 0,h),v)}):j(c,h,!0),qr=c=>x.state.subscribe({next:h=>{Yd(c.name,h.name,c.exact)&&Gd(h,c.formState||b,Qr,c.reRenderRoot)&&c.callback({values:{...i},...r,...h})}}).unsubscribe,Vr=c=>(a.mount=!0,p={...p,...c.formState},qr({...c,formState:p})),At=(c,h={})=>{for(const v of c?Ar(c):m.mount)m.mount.delete(v),m.array.delete(v),h.keepValue||(Ee(o,v),Ee(i,v)),!h.keepError&&Ee(r.errors,v),!h.keepDirty&&Ee(r.dirtyFields,v),!h.keepTouched&&Ee(r.touchedFields,v),!h.keepIsValidating&&Ee(r.validatingFields,v),!t.shouldUnregister&&!h.keepDefaultValue&&Ee(s,v);x.state.next({values:Pe(i)}),x.state.next({...r,...h.keepDirty?{isDirty:u()}:{}}),!h.keepIsValid&&g()},kt=({disabled:c,name:h})=>{(ze(c)&&a.mount||c||m.disabled.has(h))&&(c?m.disabled.add(h):m.disabled.delete(h))},Rt=(c,h={})=>{let v=I(o,c);const O=ze(h.disabled)||ze(t.disabled);return ce(o,c,{...v||{},_f:{...v&&v._f?v._f:{ref:{name:c}},name:c,mount:!0,...h}}),m.mount.add(c),v?kt({disabled:ze(h.disabled)?h.disabled:t.disabled,name:c}):Q(c,!0,h.value),{...O?{disabled:h.disabled||t.disabled}:{},...t.progressive?{required:!!h.required,min:Mr(h.min),max:Mr(h.max),minLength:Mr(h.minLength),maxLength:Mr(h.maxLength),pattern:Mr(h.pattern)}:{},name:c,onChange:J,onBlur:J,ref:_=>{if(_){Rt(c,h),v=I(o,c);const k=ve(_.value)&&_.querySelectorAll&&_.querySelectorAll("input,select,textarea")[0]||_,H=zd(k),se=v._f.refs||[];if(H?se.find(me=>me===k):k===v._f.ref)return;ce(o,c,{_f:{...v._f,...H?{refs:[...se.filter(Qn),k,...Array.isArray(I(s,c))?[{}]:[]],ref:{type:k.type,name:c}}:{ref:k}}}),Q(c,!1,void 0,k)}else v=I(o,c,{}),v._f&&(v._f.mount=!1),(t.shouldUnregister||h.shouldUnregister)&&!(gi(m.array,c)&&a.action)&&m.unMount.add(c)}}},bt=()=>t.shouldFocusError&&kr(o,ne,m.mount),Pn=c=>{ze(c)&&(x.state.next({disabled:c}),kr(o,(h,v)=>{const O=I(o,v);O&&(h.disabled=O._f.disabled||c,Array.isArray(O._f.refs)&&O._f.refs.forEach(_=>{_.disabled=O._f.disabled||c}))},0,!1))},Tr=(c,h)=>async v=>{let O;v&&(v.preventDefault&&v.preventDefault(),v.persist&&v.persist());let _=Pe(i);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:k,values:H}=await re();r.errors=k,_=H}else await W(o);if(m.disabled.size)for(const k of m.disabled)ce(_,k,void 0);if(Ee(r.errors,"root"),Oe(r.errors)){x.state.next({errors:{}});try{await c(_,v)}catch(k){O=k}}else h&&await h({...r.errors},v),bt(),setTimeout(bt);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Oe(r.errors)&&!O,submitCount:r.submitCount+1,errors:r.errors}),O)throw O},Sn=(c,h={})=>{I(o,c)&&(ve(h.defaultValue)?X(c,Pe(I(s,c))):(X(c,h.defaultValue),ce(s,c,Pe(h.defaultValue))),h.keepTouched||Ee(r.touchedFields,c),h.keepDirty||(Ee(r.dirtyFields,c),r.isDirty=h.defaultValue?u(c,Pe(I(s,c))):u()),h.keepError||(Ee(r.errors,c),b.isValid&&g()),x.state.next({...r}))},Hr=(c,h={})=>{const v=c?Pe(c):s,O=Pe(v),_=Oe(c),k=_?s:O;if(h.keepDefaultValues||(s=v),!h.keepValues){if(h.keepDirtyValues){const H=new Set([...m.mount,...Object.keys(Cr(s,i))]);for(const se of Array.from(H))I(r.dirtyFields,se)?ce(k,se,I(i,se)):X(se,I(k,se))}else{if(Do&&ve(c))for(const H of m.mount){const se=I(o,H);if(se&&se._f){const me=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(gn(me)){const Me=me.closest("form");if(Me){Me.reset();break}}}}for(const H of m.mount)X(H,I(k,H))}i=Pe(k),x.array.next({values:{...k}}),x.state.next({values:{...k}})}m={mount:h.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!b.isValid||!!h.keepIsValid||!!h.keepDirtyValues,a.watch=!!t.shouldUnregister,x.state.next({submitCount:h.keepSubmitCount?r.submitCount:0,isDirty:_?!1:h.keepDirty?r.isDirty:!!(h.keepDefaultValues&&!xt(c,s)),isSubmitted:h.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:_?{}:h.keepDirtyValues?h.keepDefaultValues&&i?Cr(s,i):r.dirtyFields:h.keepDefaultValues&&c?Cr(s,c):h.keepDirty?r.dirtyFields:{},touchedFields:h.keepTouched?r.touchedFields:{},errors:h.keepErrors?r.errors:{},isSubmitSuccessful:h.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Lt=(c,h)=>Hr(rt(c)?c(i):c,h),_t=(c,h={})=>{const v=I(o,c),O=v&&v._f;if(O){const _=O.refs?O.refs[0]:O.ref;_.focus&&(_.focus(),h.shouldSelect&&rt(_.select)&&_.select())}},Qr=c=>{r={...r,...c}},It={control:{register:Rt,unregister:At,getFieldState:be,handleSubmit:Tr,setError:Se,_subscribe:qr,_runSchema:re,_focusError:bt,_getWatch:j,_getDirty:u,_setValid:g,_setFieldArray:L,_setDisabledField:kt,_setErrors:q,_getFieldArray:V,_reset:Hr,_resetDefaultValues:()=>rt(t.defaultValues)&&t.defaultValues().then(c=>{Lt(c,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:Pn,_subjects:x,_proxyFormState:b,get _fields(){return o},get _formValues(){return i},get _state(){return a},set _state(c){a=c},get _defaultValues(){return s},get _names(){return m},set _names(c){m=c},get _formState(){return r},get _options(){return t},set _options(c){t={...t,...c}}},subscribe:Vr,trigger:w,register:Rt,handleSubmit:Tr,watch:Tn,setValue:X,getValues:te,reset:Lt,resetField:Sn,clearErrors:Ue,unregister:At,setError:Se,setFocus:_t,getFieldState:be};return{...It,formControl:It}}function tc(e={}){const t=ae.useRef(void 0),r=ae.useRef(void 0),[o,s]=ae.useState({isDirty:!1,isValidating:!1,isLoading:rt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:rt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:o},e.defaultValues&&!rt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...m}=ec(e);t.current={...m,formState:o}}const i=t.current.control;return i._options=e,So(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(m=>({...m,isReady:!0})),i._formState.isReady=!0,a},[i]),ae.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ae.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ae.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ae.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ae.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==o.isDirty&&i._subjects.state.next({isDirty:a})}},[i,o.isDirty]),ae.useEffect(()=>{e.values&&!xt(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),ae.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=xi(o,i),t.current}const Vs=(e,t,r)=>{if(e&&"reportValidity"in e){const o=I(r,t);e.setCustomValidity(o&&o.message||""),e.reportValidity()}},Si=(e,t)=>{for(const r in t.fields){const o=t.fields[r];o&&o.ref&&"reportValidity"in o.ref?Vs(o.ref,r,e):o.refs&&o.refs.forEach(s=>Vs(s,r,e))}},rc=(e,t)=>{t.shouldUseNativeValidation&&Si(e,t);const r={};for(const o in e){const s=I(t.fields,o),i=Object.assign(e[o]||{},{ref:s&&s.ref});if(nc(t.names||Object.keys(e),o)){const a=Object.assign({},I(r,o));ce(a,"root",i),ce(r,o,a)}else ce(r,o,i)}return r},nc=(e,t)=>e.some(r=>r.startsWith(t+"."));var oc=function(e,t){for(var r={};e.length;){var o=e[0],s=o.code,i=o.message,a=o.path.join(".");if(!r[a])if("unionErrors"in o){var m=o.unionErrors[0].errors[0];r[a]={message:m.message,type:m.code}}else r[a]={message:i,type:s};if("unionErrors"in o&&o.unionErrors.forEach(function(b){return b.errors.forEach(function(p){return e.push(p)})}),t){var f=r[a].types,E=f&&f[o.code];r[a]=ji(a,t,r,s,E?[].concat(E,o.message):o.message)}e.shift()}return r},sc=function(e,t,r){return r===void 0&&(r={}),function(o,s,i){try{return Promise.resolve(function(a,m){try{var f=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](o,t)).then(function(E){return i.shouldUseNativeValidation&&Si({},i),{errors:{},values:r.raw?o:E}})}catch(E){return m(E)}return f&&f.then?f.then(void 0,m):f}(0,function(a){if(function(m){return Array.isArray(m==null?void 0:m.errors)}(a))return{values:{},errors:rc(oc(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const ic=Oa({email:Qo().email("Invalid email address"),password:Qo().min(1,"Password is required")}),ac=()=>{var g,N;const e=vr(),t=fo(),r=Dr(),{isAuthenticated:o,isLoading:s,error:i}=ht(L=>L.auth),[a,m]=R.useState(!1),f=((N=(g=t.state)==null?void 0:g.from)==null?void 0:N.pathname)||"/",{control:E,handleSubmit:b,formState:{errors:p,isValid:x}}=tc({resolver:sc(ic),mode:"onChange",defaultValues:{email:"",password:""}});R.useEffect(()=>{o&&e(f,{replace:!0})},[o,e,f]),R.useEffect(()=>{r(Wl())},[r]);const C=async L=>{try{await r(dn(L)).unwrap()}catch{}},D=()=>{m(!a)};return n.jsxDEV(P,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.default",backgroundImage:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",p:2},children:n.jsxDEV(Ye,{sx:{maxWidth:440,width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:n.jsxDEV(Ke,{sx:{p:4},children:[n.jsxDEV(P,{sx:{textAlign:"center",mb:4},children:[n.jsxDEV(Be,{sx:{fontSize:48,color:"primary.main",mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:104,columnNumber:13},void 0),n.jsxDEV(A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Welcome Back"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:111,columnNumber:13},void 0),n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:"Sign in to your Threat Modeling Platform account"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:114,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:103,columnNumber:11},void 0),i&&n.jsxDEV(er,{severity:"error",sx:{mb:3},children:i},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:120,columnNumber:13},void 0),n.jsxDEV("form",{onSubmit:b(C),children:[n.jsxDEV(P,{sx:{mb:3},children:[n.jsxDEV(fs,{name:"email",control:E,render:({field:L})=>{var y;return n.jsxDEV(xe,{...L,fullWidth:!0,label:"Email Address",type:"email",error:!!p.email,helperText:(y=p.email)==null?void 0:y.message,InputProps:{startAdornment:n.jsxDEV(ir,{position:"start",children:n.jsxDEV(ka,{color:"action"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:141,columnNumber:27},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:140,columnNumber:25},void 0)},sx:{mb:2}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:131,columnNumber:19},void 0)}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:127,columnNumber:15},void 0),n.jsxDEV(fs,{name:"password",control:E,render:({field:L})=>{var y;return n.jsxDEV(xe,{...L,fullWidth:!0,label:"Password",type:a?"text":"password",error:!!p.password,helperText:(y=p.password)==null?void 0:y.message,InputProps:{startAdornment:n.jsxDEV(ir,{position:"start",children:n.jsxDEV(La,{color:"action"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:164,columnNumber:27},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:163,columnNumber:25},void 0),endAdornment:n.jsxDEV(ir,{position:"end",children:n.jsxDEV(Ve,{onClick:D,edge:"end","aria-label":"toggle password visibility",children:a?n.jsxDEV(Ra,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:174,columnNumber:45},void 0):n.jsxDEV(Hs,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:174,columnNumber:65},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:169,columnNumber:27},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:168,columnNumber:25},void 0)}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:154,columnNumber:19},void 0)}},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:150,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:126,columnNumber:13},void 0),n.jsxDEV(he,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:!x||s,sx:{mb:2,py:1.5},children:s?n.jsxDEV(sr,{size:24,color:"inherit"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:193,columnNumber:17},void 0):"Sign In"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:184,columnNumber:13},void 0),n.jsxDEV(P,{sx:{textAlign:"center"},children:n.jsxDEV(Ho,{component:Fo,to:"/forgot-password",variant:"body2",sx:{textDecoration:"none"},children:"Forgot your password?"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:200,columnNumber:15},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:199,columnNumber:13},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:125,columnNumber:11},void 0),n.jsxDEV(Qe,{sx:{my:3},children:n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:"OR"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:212,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:211,columnNumber:11},void 0),n.jsxDEV(P,{sx:{textAlign:"center"},children:n.jsxDEV(A,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",n.jsxDEV(Ho,{component:Fo,to:"/register",sx:{textDecoration:"none",fontWeight:500},children:"Sign up here"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:220,columnNumber:15},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:218,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:217,columnNumber:11},void 0),n.jsxDEV(P,{sx:{mt:4,textAlign:"center"},children:n.jsxDEV(A,{variant:"caption",color:"text.secondary",children:"Enterprise Security Platform"},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:231,columnNumber:13},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:230,columnNumber:11},void 0)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:102,columnNumber:9},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:95,columnNumber:7},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/pages/Login.tsx",lineNumber:84,columnNumber:5},void 0)},lc=new vl({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function dc(){return n.jsxDEV(Ja,{store:uo,children:n.jsxDEV(Vl,{client:lc,children:n.jsxDEV(_a,{theme:ld,children:[n.jsxDEV(Bs,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:31,columnNumber:11},this),n.jsxDEV(Bi,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsxDEV(Oo,{children:[n.jsxDEV(nr,{path:"/login",element:n.jsxDEV(ac,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:39,columnNumber:45},this)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:39,columnNumber:15},this),n.jsxDEV(nr,{path:"/*",element:n.jsxDEV(bd,{children:n.jsxDEV(hd,{children:n.jsxDEV(Oo,{children:[n.jsxDEV(nr,{path:"/",element:n.jsxDEV(Nd,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:46,columnNumber:50},this)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:46,columnNumber:25},this),n.jsxDEV(nr,{path:"/projects",element:n.jsxDEV(xd,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:47,columnNumber:58},this)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:47,columnNumber:25},this),n.jsxDEV(nr,{path:"/threat-models",element:n.jsxDEV(yd,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:48,columnNumber:63},this)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:48,columnNumber:25},this),n.jsxDEV(nr,{path:"/threat-models/:id/edit",element:n.jsxDEV(_d,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:49,columnNumber:72},this)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:49,columnNumber:25},this)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:45,columnNumber:23},this)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:44,columnNumber:21},this)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:43,columnNumber:19},this)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:40,columnNumber:15},this)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:38,columnNumber:13},this)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:32,columnNumber:11},this)]},void 0,!0,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:30,columnNumber:9},this)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:29,columnNumber:7},this)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/App.tsx",lineNumber:28,columnNumber:5},this)}Gn.createRoot(document.getElementById("root")).render(n.jsxDEV(ae.StrictMode,{children:n.jsxDEV(dc,{},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/main.tsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"/opt/projects/threat-modeling-platform/frontend/src/main.tsx",lineNumber:7,columnNumber:3},void 0));
//# sourceMappingURL=index-BtRSlTmO.js.map
